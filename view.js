function buildQueryString(){var e=awesomeTable.settings.data.url||"",t=/https?:\/\/[^\/]*?\/(?:a\/([^\/]+?)\/)?spreadsheets\/d\/([^\/]+?)\/|https?:\/\/[^\/]+?\/(?:a\/([^\/]+?)\/)?spreadsheet\/ccc\?[^\/]*?key=([^\/]+?)(?=#|$|&)/.exec(e),a="",o="",i=!0;if(null==t){if(0==/^[^\/]+$/.test(e))throw awesomeTable.codeTools.displayNoUrlError(),"Url not valid";null!=(t=/sites\.google\.com\/a\/([^\/]+?)\//.exec(awesomeTable.settings.referrer))&&(a="a/"+t[1]+"/"),o=e}else void 0!=t[2]?(void 0!=t[1]&&(a="a/"+t[1]+"/"),o=t[2],i=!1):(void 0!=t[3]&&(a="a/"+t[3]+"/"),o=t[4]);var n=void 0,s={data:(n=0==i?awesomeTable.settings.data.ISpublicSpreadsheet?"https://docs.google.com/spreadsheets/d/"+o+"/gviz/tq?":"https://docs.google.com/"+a+"spreadsheets/d/"+o+"/gviz/tq?":"https://docs.google.com/"+a+"spreadsheet/tq?key="+o+"&")+"headers=2&range="+(awesomeTable.settings.data.range||"")+"&sheet="+(awesomeTable.settings.data.sheet||""),options:buildQueryOptions()};if(awesomeTable.settings.data.rangeTemplate){var l=awesomeTable.settings.data.rangeTemplate.split("!");s.template=n+"headers=0&range="+l[1]+"&sheet="+l[0]}return awesomeTable.settings.data.scriptProxy&&(s.proxy=buildQueryStringForProxy(s.data)),s}function buildQueryStringForProxy(e){var t=(awesomeTable.settings.data.rangeTemplate||"").split("!"),a=awesomeTable.settings.data.scriptProxy||"";return a+=(-1!==a.indexOf("?")?"&":"?")+"url="+e,awesomeTable.settings.search&&(a+=("&"+awesomeTable.settings.search.replace(/^\?/,"")).replace("&c=","&C=")),void 0!=t&&(a+="&templateSheet="+t[0]+"&templateRange="+t[1]),a}function buildQueryOptions(){var e=void 0;(e=awesomeTable.settings.search.match(/(?:[?&])q=(.+?)(?:$|&)/))&&awesomeTable.settings.referrer!==awesomeTable.tools.URLs.GSITE_NEW&&(q=decodeURIComponent(e[1])),(e=awesomeTable.settings.search.match(/(?:[?&])(?:[cC])=(\w+)(?:$|&)/))&&(idColumn=e[1]);for(var t=/(?:[?&])filter([a-z]+)=(.+?)(?=$|&)/gi,a=void 0;null!==(a=t.exec(awesomeTable.settings.search));){var o=a[1];if((a=a[2].split(",")).length>0){for(var i=[],n=0;n<a.length;n++)i.push(decodeURIComponent(a[n]).replace(/&#32;/g," "));filterSettings[o]=i}}var s=awesomeTable.settings.data.queryOpt;if(s){s=s.replace(/&#39;/g,"'").replace(/&#34;/g,"'").replace(/&#60;/g,"<").replace(/&#62;/g,">");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}var l=/\ssidebar\s([A-Z]+)/i;(e=s.match(l))&&(_self.sidebar.columnId=e[1],s=s.replace(l,"")),-1!=s.indexOf("#")&&(s="")}return _self.analytics.useQuery=""!=s,s}function initOptions(){"site"==awesomeTable.settings.location&&""==document.referrer&&document.body.classList.add("noIframe"),window.performance&&!sizeTimeAnalytics.queryBuiltTime&&(sizeTimeAnalytics.queryBuiltTime=window.performance.now());var e=document.querySelector("head>title");_self.pageName=awesomeTable.settings.data.viewName||"Awesome Table",e.innerHTML=_self.pageName;var t=buildQueryString(),a="preview"!=awesomeTable.settings.location;if(awesomeTable.settings.data.scriptProxy)_self.query=awesomeTable.query.newRequest({dataUrl:t.proxy,useCache:a,dataSource:"proxy"},queryDataCallback);else{var o=document.URL.replace(/^https?:\/\/[^\/]+(?:\/views)?\/[^\/]+\/view/,""),i=/[?&]access_token=([^?&]+)(?:&|$)/.exec(o);awesomeTable.query.setShowLogin(showAuthScreen),_self.query=awesomeTable.query.newRequest({dataUrl:t.data,dataQuery:t.options,templateUrl:t.template||"",useCache:a,dataSource:"spreadsheet",token:i&&i[1]||void 0},queryDataCallback)}awesomeTable.codeTools.loader.start();var n=awesomeTable.settings.data.customCSS||"";-1!=n.indexOf("http")&&(document.getElementById("awesomeTableCSS").href=n),_self.initialHeight="gadget"!=awesomeTable.settings.location?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:document.body.clientHeight,_self.vizType=awesomeTable.settings.data.visualizationType||"Table",awesomeTable.view[_self.vizType]||(_self.vizType="Table"),_self.ViewConstructor=awesomeTable.view[_self.vizType],_self.view=new _self.ViewConstructor,_self.dom.dashboard=document.getElementById("dashboard"),_self.buildDashboardHTML(),awesomeTable.codeTools.FrameHeight.addSizeSensor();var s=["controls"].concat(_self.ViewConstructor._requireGviz||[]),l=[google.charts.load("45",{packages:s})];_self.ViewConstructor._require&&_self.ViewConstructor._require.forEach(function(e){l.push(awesomeTable.codeTools.loadLibrary(e))}),awesomeTable.settings.data.codeAnalytics&&window.ga("create",awesomeTable.settings.data.codeAnalytics,"auto"),Promise.all(l).then(function(){var e=document.head.querySelector("base");e&&e.parentNode.removeChild(e),_self.query.acceptData()}),setLastViewed(awesomeTable.settings.id)}function setLastViewed(e){e&&"preview"!=awesomeTable.settings.location&&!/^https:\/\/sites\.google\.com\/(site|a\/[^\/]+)\/[^\/]+\/system/.test(awesomeTable.settings.referrer)&&awesomeTable.codeTools.report()}function queryDataCallback(e){window.performance&&!sizeTimeAnalytics.queryRetrievedTime&&(sizeTimeAnalytics.queryRetrievedTime=performance.now()),e.error?awesomeTable.codeTools.displayLoadingError(e.error):(e.useCache&&!e.dataFromCache&&(_self.dom.dyn={},_self.buildDashboardHTML()),_self.tables.data=new google.visualization.DataTable(e.content.data),processTemplate(e),sizeTimeAnalytics.dashboardDrawn||setTimeout(function(){var t=getObjectSize(e.content.data);sizeTimeAnalytics.sheetSizeDone_res(t)},1e3))}function showAuthScreen(){return document.getElementById("authScreen-viewName").innerHTML=awesomeTable.tools.escapeHtml(awesomeTable.settings.data.viewName||""),awesomeTable.codeTools.loader.stop(),document.body.classList.add("showFullScreen"),awesomeTable.query.manualLogin().then(function(){awesomeTable.codeTools.loader.start(),document.body.classList.remove("showFullScreen")})}function processLabelsInData(){awesomeTable._Keywords.init(_self.tables.data);var e=_self.tables.data.getNumberOfColumns();if(_self.controls.filters=[],_self.controls.filtersRelation=[],_self.sidebar.useSidebar=!1,_self.sidebar.columnIndex=void 0,columnsToDisplay=[],idColumnPosition=0,idColumn)for(var t=0;t<e;t++)if(_self.tables.data.getColumnId(t)==idColumn){idColumnPosition=t;break}"number"==_self.tables.data.getColumnType(idColumnPosition)&&(q=parseInt(q),isNaN(q)&&(q=void 0));for(var a=0;a<e;a++){var o=_self.tables.data.getColumnId(a),i=_self.tables.data.getColumnLabel(a),n=_self.tables.data.getColumnType(a),s=_self.tables.data.getColumnPattern(a);columnsToDisplay.push(a),o===_self.sidebar.columnId&&(i+=" Sidebar");var l=awesomeTable._Keywords.processKeywordInColumn(i,n);i=awesomeTable._Keywords.cleanColumnLabel(i),_self.tables.data.setColumnLabel(a,i);for(var r=0;r<l.length;r++)if(awesomeTable._Keywords.type[l[r].filter].action)awesomeTable._Keywords.dataIdMap[o][l[r].filter]=!0,awesomeTable._Keywords.type[l[r].filter].action({filter:l[r],columnIndex:a,columnA1Name:o,columnLabel:i,columnType:n,columnPattern:s});else if("nofilter"==l[r].filter)break}awesomeTable._Keywords.afterProcess()}function processTemplate(e){function t(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}var a=document.getElementById("errorMsg");if(_self.tables.data.getNumberOfRows()<1)awesomeTable.codeTools.displayNoDataDisplay(decodeURI(awesomeTable.settings.data.errorMSG||""));else{a.style.display="none",awesomeTable._Keywords.reInit();var o=_self.tables.data.getNumberOfColumns(),i=void 0,n=awesomeTable._Keywords.templateIndex,s=!1,l=void 0,r=void 0;_self.tables.template&&(r=(l=_self.tables.template).getNumberOfColumns()),_self.tables.template=new google.visualization.DataTable(e.content.template);var d=_self.tables.template.getNumberOfColumns();if(l)if(1==_self.tables.template.getNumberOfRows())s=_self.tables.template.getValue(0,0)!=l.getValue(0,0);else if(d==r){for(var u=0;u<d;u++)if(_self.tables.template.getValue(0,u)!=l.getValue(0,u)||_self.tables.template.getValue(1,u)!=l.getValue(1,u)){s=!0;break}}else s=!0;var c="",m=document.querySelector("head");if(1==_self.tables.template.getNumberOfRows()){for(var p=/^\s+|\s+$|(?:(?:\s?-\s?|\s)(Hidden)(?:\s?-\s?(?!\w)|\s(?!\w))?)/gi,h=0;h<o;h++)_self.tables.data.setColumnLabel(h,_self.tables.data.getColumnLabel(h).replace(p,"")+" - Hidden");var g=_self.tables.data.addColumn("string","");n[""]={pos:g,template:_self.tables.template.getValue(0,0)},processLabelsInData()}else{processLabelsInData(),d=_self.tables.template.getNumberOfColumns(),o=_self.tables.data.getNumberOfColumns();for(var f=0;f<d;f++){var v=_self.tables.template.getValue(0,f);if("<script>"!=v||l&&!s)if("<style>"!=v||l&&!s){if(""==v||null==v){var w=_self.tables.template.getValue(1,f);w&&(c+=w)}else for(var b=0;b<o;b++)if(_self.tables.data.getColumnLabel(b)==v){n[v]={pos:b,template:_self.tables.template.getValue(1,f)};break}}else{var _=document.createElement("style");_.innerHTML=_self.tables.template.getValue(1,f),m.appendChild(_)}else{var y=document.createElement("script");y.innerHTML=_self.tables.template.getValue(1,f),m.appendChild(y)}}}if(""!=c){var T=document.getElementById("at-global-template");T&&T.parentNode.removeChild(T);var C=document.createElement("div");C.innerHTML=c,C.id="at-global-template";var S=document.querySelector("body");S.insertBefore(C,S.childNodes[0])}var L={},x={};o=_self.tables.data.getNumberOfColumns(),i=_self.tables.data.getNumberOfRows();for(var V in n)if(n[V].template&&"function"!=typeof n[V].template){var M=n[V].template.match(/\${"[^"]+"}|{{[^}"]+}}/g);if(null!=M)for(var D=0;D<M.length;D++)if(!(M[D]in L)){var I=M[D].match(/\${"([^"]+)"}|{{([^}"]+)}}/);if(null!=I){I=I[1]||I[2];for(var R=0;R<o;R++)_self.tables.data.getColumnLabel(R)==I&&(L[M[D]]={value:I,position:R},x[I]=!0)}}}var P=document.createElement("div");for(var N in n)for(var E=_self.tables.data.getColumnType(n[N].pos),k=0;k<i;k++){var z=n[N].template;if(z){if("function"==typeof z)z=z(k,n[N].pos,n[N].param);else for(var F in L)z=function(e,a,o){return e.replace(new RegExp(t(a),"g"),o)}(z,F,_self.tables.data.getFormattedValue(k,L[F].position)||"");_self.tables.data.setFormattedValue(k,n[N].pos,z),"string"==E&&(n[N].useFormatted?_self.tables.data.setValue(k,n[N].pos,"function"!=typeof n[N].useFormatted?z:n[N].useFormatted(z,k,n[N].pos)):(P.innerHTML=z.replace(/(?:<.*?>|\s+(?=<))+/g," "),_self.tables.data.setValue(k,n[N].pos,P.innerText)))}}drawVisualization(_self.tables.data,e.dataFromCache,x)}}function drawVisualization(e,t,a){a=a||{};for(var o=/^https?:\/\//,i=e.getNumberOfRows(),n=0;n<columnsToDisplay.length;n++){var s=columnsToDisplay[n];if(!(e.getColumnLabel(s)in a||"string"!=e.getColumnType(s)))for(var l=0;l<i;l++){var r=e.getValue(l,s);o.test(r)&&e.setFormattedValue(l,s,'<a href="'+r+'" target="_blank">'+r+"</a>")}}awesomeTable.codeTools.loader.stop(),awesomeTable.codeTools.loader.hide(!0,500),document.body.style.backgroundColor=awesomeTable.settings.data.backgroundColor||"transparent";var d={pageSize:awesomeTable.settings.data.pageSize,columns:columnsToDisplay,initialHeight:_self.initialHeight,groupByRowLabel:awesomeTable.settings.data.Gantt_groupByRowLabel||!1,maxCardWidth:awesomeTable.settings.data.maxCardWidth||"",minCardWidth:awesomeTable.settings.data.minCardWidth||"",numberOfColumns:awesomeTable.settings.data.numberOfColumns||4,numberOfRows:awesomeTable.settings.data.numberOfRows||""};void 0!=q&&(selectedRow=e.getFilteredRows([{column:idColumnPosition,value:q}]),d.selectedRows=selectedRow),_self.wrapper=_self.view.initWrapper(d),_self.sidebar.useSidebar&&google.visualization.events.addListener(_self.wrapper,"select",function(){var t=void 0;if(void 0==q||"string"!=typeof q&&isNaN(q)||void 0==idColumnPosition){var a=_self.wrapper.getChart().getSelection()[0];if(void 0==a||!("row"in a))return;var o=a.row;t=_self.wrapper.getDataTable().getFormattedValue(o,_self.sidebar.columnIndex)}else{var i=_self.wrapper.getDataTable().getFilteredRows([{column:idColumnPosition,value:q}]),n=!0;if(i&&i.length>0?i=i[0]:(i=e.getFilteredRows([{column:idColumnPosition,value:q}]))&&i.length>0?(i=i[0],n=!1):i=void 0,q=void 0,void 0==i)return;t=n?_self.wrapper.getDataTable().getFormattedValue(i,_self.sidebar.columnIndex):e.getFormattedValue(i,_self.sidebar.columnIndex)}_self.sidebar.dom.innerHTML=t}),buildDashboard(),callGa&&callGa(_self.vizType,t),awesomeTable.codeTools.displayWarning()}function buildDashboard(){var e=new google.visualization.Dashboard(_self.dom.dashboard);if(_self.dashboard=e,_self.dom.dashboard.setAttribute("view-type",_self.vizType),_self.controls.filters.length){for(var t=0;t<_self.controls.filters.length;t++)e.bind(_self.controls.filters[t].control,_self.view.getWrappers());for(var a=0;a<_self.controls.filtersRelation.length;a++)for(var o=_self.controls.filtersRelation[a],i=void 0,n=void 0,s=0;s<_self.controls.filters.length;s++)if(_self.controls.filters[s].index==o.parent?i=_self.controls.filters[s].control:_self.controls.filters[s].index==o.child&&(n=_self.controls.filters[s].control),i&&n){e.bind(i,n);break}}else{var l=new google.visualization.ControlWrapper({controlType:"awesomeTable.visualization.DummyFilter"});e.bind(l,_self.view.getWrappers())}var r=0;google.visualization.events.addListener(e,"ready",function(){if(void 0!=q&&selectedRow.length>0&&_self.wrapper.getChart().setSelection([{row:selectedRow[0]}]),r++,refresh("ready"),!--r){var e=Promise.resolve();if(window.AT_onFirstDashboardReady){var t=window.AT_onFirstDashboardReady;delete window.AT_onFirstDashboardReady,e=e.then(function(){t()})}window.AT_onDashboardReady&&e.then(function(){window.AT_onDashboardReady({dataTable:_self.wrapper.getDataTable()})})}}),google.visualization.events.addOneTimeListener(e,"ready",_self.Viz.onPostFirstReady),e.draw(_self.tables.data)}function getObjectSize(e){return JSON.stringify(e).length}function callGaUserTiming(e,t){_self.sidebar.useSidebar&&(t+=" + Sidebar"),t.replace("new",""),_self.sidebar.useSidebar&&(t+=" + Sidebar");var a=/https?:\/\/(?:(?:www\.)?sites\.google\.com\/(?:a\/)?)?((?:site\/)?[^\/]+)/,o=awesomeTable.settings.referrer,i=o.match(a),n={metric1:e,metric2:_self.tables.data?_self.tables.data.getNumberOfRows():0,dimension1:null!=i?i[1]:"noDomainFound",dimension2:awesomeTable.settings.id,dimension3:o,dimension5:t,dimension6:awesomeTable.Stat.getTemplateUsage(awesomeTable.settings.data.rangeTemplate),dimension7:!!awesomeTable.settings.data.scriptProxy,dimension8:!!awesomeTable.settings.data.customCSS,dimension9:_self.analytics.useQuery,dimension10:1==awesomeTable.settings.data.download,dimension11:awesomeTable.settings.location,dimension12:0!=Object.keys(filterSettings).length?void 0!=q?"preSetFilters + deepLink":"preSetFilters":void 0!=q?"deepLink":"none",dimension13:_self.controls.filters.length};_self.analytics.awtDomain.sendTiming({timingCategory:"Building query",timingVar:"load",timingValue:Math.round(sizeTimeAnalytics.queryBuiltTime)},n),_self.analytics.awtDomain.sendTiming({timingCategory:"Retrieving query",timingVar:"load",timingValue:Math.round(sizeTimeAnalytics.queryRetrievedTime)},n),_self.analytics.awtDomain.sendTiming({timingCategory:"Dashboard ready",timingVar:"load",timingValue:Math.round(sizeTimeAnalytics.dashboardReadyTime)},n)}function callGa(e,t){t=t||!1,e.replace("new",""),_self.sidebar.useSidebar&&(e+=" + Sidebar");var a=e;-1!=e.indexOf("Maps")&&(a+=" + Maps"),"gadget"!=awesomeTable.settings.location&&(a=""!=a?a+" + FireBase":"FireBase"),a=awesomeTable.settings.gaPrefix+a;var o="";awesomeTable.settings.data.scriptProxy&&(o=""!=o?o+" + Proxy":"Proxy"),awesomeTable.settings.data.rangeTemplate&&(o=""!=o?o+" + Template":"Template"),void 0!=q&&(o=""!=o?o+" + DirectRowLink":"DirectRowLink"),0!=Object.keys(filterSettings).length&&(o=""!=o?o+" + PreSetFilters":"PreSetFilters"),awesomeTable.settings.data.download&&(o=""!=o?o+" + Download":"Download");var i=awesomeTable.settings.data.customCSS||"";i&&-1!=i.indexOf("http")&&-1==i.indexOf("/site/scriptsexamples/awesome_table_multipleColumnsLayout.css")&&(o=""!=o?o+" + CustomCSS":"CustomCSS"),""==o&&(o="Default");var n=awesomeTable.settings.referrer;_self.analytics.awtTrack.sendStats({eventCategory:a,eventAction:o,eventLabel:n,eventValue:_self.tables.data?_self.tables.data.getNumberOfRows():0});var s=/https?:\/\/(?:(?:www\.)?sites\.google\.com\/(?:a\/)?)?((?:site\/)?[^\/]+)/,l=n.match(s);_self.analytics.awtDomain.sendStats({eventCategory:a,eventAction:null!=l?l[1]:"noDomainFound",eventLabel:n,eventValue:_self.tables.data?_self.tables.data.getNumberOfRows():0}),_self.analytics.awtDomain.sendStats({eventCategory:"view",eventAction:"normal",eventValue:_self.tables.data?_self.tables.data.getNumberOfRows():0,dimension1:null!=l?l[1]:"noDomainFound",dimension2:awesomeTable.settings.id,dimension3:n,dimension5:e,dimension6:awesomeTable.Stat.getTemplateUsage(awesomeTable.settings.data.rangeTemplate),dimension7:!!awesomeTable.settings.data.scriptProxy,dimension8:""!=i,dimension9:_self.analytics.useQuery,dimension10:1==awesomeTable.settings.data.download,dimension11:awesomeTable.settings.location,dimension12:0!=Object.keys(filterSettings).length?void 0!=q?"preSetFilters + deepLink":"preSetFilters":void 0!=q?"deepLink":"none",dimension13:_self.controls.filters.length,dimension14:t}),callGa=void 0}function awt_showPopUp(e){if(_self.view.isInTable&&_self.view.isInTable(e)){var t=e.querySelector(".awt-popup"),a=e.querySelector(".awt-popup>img"),o=e.querySelector(".awt-imgParameter"),i=document.querySelector(".google-visualization-table div"),n=document.querySelector("tbody"),s=o.getBoundingClientRect(),l=i.getBoundingClientRect(),r=n.getBoundingClientRect();t.style.display="block";var d=t.getBoundingClientRect();if(l.right-s.right>d.width)t.classList.add("awt-popupRight");else if(s.left-l.left>d.width)t.classList.add("awt-popupLeft");else{var u=d.width-a.clientWidth;l.width<500?(a.style.maxWidth=.9*l.width-u+"px",t.style.left=-s.left+"px",t.style.marginLeft=.05*l.width+"px"):(a.style.maxWidth=.5*l.width-u+"px",t.classList.add("awt-popupCenteredHor")),d=t.getBoundingClientRect()}var c=(d.height-s.height)/2;if(s.top-r.top<c&&r.bottom-s.bottom<c){var m=document.querySelector("thead").getBoundingClientRect();t.classList.add("awt-popupBottom"),i.style.minHeight=m.height+d.height+10+"px"}else c>s.top-r.top?t.classList.add("awt-popupBottom"):s.bottom+c>r.bottom?t.classList.add("awt-popupTop"):t.classList.add("awt-popupCenteredVer")}}function awt_hidePopUp(e){if(_self.view.isInTable&&_self.view.isInTable(e)){var t=e.querySelector(".awt-popup>img"),a=e.querySelector(".awt-popup"),o=document.querySelector(".google-visualization-table>div");a.className="awt-popup",a.removeAttribute("style"),t.removeAttribute("style"),o.style.minHeight=""}}function refresh(){var e=_self.wrapper.getDataTable(),t=void 0;if(void 0!=_self.wrapper.getView().rows?(t=_self.wrapper.getView().rows.length,_self.wrapper.setView({columns:columnsToDisplay})):t=e.getNumberOfRows(),awesomeTable.codeTools.setupVisibilityToggle(),0!=_self.view.onReady()){if(!t!=_self._isNoDataShown&&_self._showNoData(!t),awesomeTable.settings.data.download&&e){var a='"',o=JSON.parse(e.toJSON()).rows;if(o){for(var i=0;i<columnsToDisplay.length;i++)a+=_self.tables.data.getColumnLabel(columnsToDisplay[i]).toString().replace(/"/g,'""'),i<columnsToDisplay.length-1&&(a+='","');a+='"\r\n';for(var n=t-o[o.length-1]<=0,s=0;s<o.length;s++){a+='"';for(var l=0;l<columnsToDisplay.length;l++){var r=n?e.getValue(s,columnsToDisplay[l]):e.getValue(o[s],columnsToDisplay[l]);null!=r&&(a+=r.toString().replace(/"/g,'""')),l<columnsToDisplay.length-1&&(a+='","')}a+='"\r\n'}_self.dom.btnExport.href="data:text/csv;charset=utf-8,"+encodeURIComponent(a),_self.dom.btnExport.download="export.csv"}}selectedRow=[],void 0!=_self.wrapper.getChart()&&t>0?void 0!=q&&void 0!=idColumnPosition&&google.visualization.events.trigger(_self.wrapper,"select",{}):_self.sidebar.useSidebar&&(_self.sidebar.dom.innerHTML="")}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=function(e,t,a){this._dom={menuButton:e,dropDownMenu:t},this.onMenuOpen=a,this._mouseInFilter=!1,this._dropDownState=!1,this._dropDownForceClose=!1,this._onMenuButtonClick=this._onMenuButtonClick.bind(this),this._manageDropDownMenu=this._manageDropDownMenu.bind(this),this._onBodyResize=this._onBodyResize.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),window.addEventListener("blur",this.closeMenu.bind(this,!0)),document.addEventListener("click",this._manageDropDownMenu),document.addEventListener("at-body-resize",this._onBodyResize),this._dom.menuButton.addEventListener("click",this._onMenuButtonClick),this._dom.menuButton.addEventListener("mouseenter",this._onMouseEnter),this._dom.menuButton.addEventListener("mouseleave",this._onMouseLeave)};e.prototype.closeMenu=function(e){this._dropDownForceClose=!0,e&&this._manageDropDownMenu()},e.prototype.dispose=function(){document.removeEventListener("click",this._manageDropDownMenu),document.removeEventListener("click",this._onBodyResize),this._dom.menuButton.removeEventListener("click",this._onMenuButtonClick),this._dom.menuButton.removeEventListener("mouseenter",this._onMouseEnter),this._dom.menuButton.removeEventListener("mouseleave",this._onMouseLeave);for(var e in this)delete this[e]},e.prototype._onMenuButtonClick=function(){this._mouseInFilter&&"none"!=this._dom.dropDownMenu.style.display?this._dropDownForceClose=!0:this.onMenuOpen&&this.onMenuOpen(this)},e.prototype._manageDropDownMenu=function(){if(this._dropDownForceClose||!this._mouseInFilter||this._dropDownState)return this._dropDownState=!1,this._dropDownForceClose=!1,void(this._dom.dropDownMenu.style.display="none");this._dropDownState=!0,this._onBodyResize()},e.prototype._onBodyResize=function(e){if(this._dropDownState){var t=e&&e.detail?e.detail:document.body.getBoundingClientRect(),a=this._dom.dropDownMenu.style;a.visibility="hidden",a.display="",a.marginTop="",a.marginLeft="",a.height="",a.maxHeight="",a.width="";var o=this._dom.dropDownMenu.getBoundingClientRect(),i=this._dom.menuButton.getBoundingClientRect(),n=t.height-i.bottom;if(n>=o.height)a.marginTop="-1px";else if(n<o.height&&n>=200)a.marginTop="-1px",a.height=n+"px";else{var s=-2*i.height,l=n+2*i.height;l>300?l=300:l<200&&(s-=200-l,l=200),i.bottom+s<0&&(s=-i.bottom,l=t.height),s+o.height<0&&(s=-o.height,l=o.height),a.marginTop=s+"px",a.maxHeight=l+"px"}a.visibility=""}},e.prototype._onMouseEnter=function(){this._mouseInFilter=!0},e.prototype._onMouseLeave=function(){this._mouseInFilter=!1},window.awesomeTable=window.awesomeTable||{},window.awesomeTable.DropDownMenu=e}(),function(){var e=function(e){};e.prototype.apply=function(){return new google.visualization.DataView(this.data)},e.prototype.draw=function(e,t,a){this.data=e,google.visualization.events.trigger(this,"ready",{})},e.prototype.dispose=function(){for(var e in this)delete this[e]},e.prototype.getState=function(){return[]},window.awesomeTable=window.awesomeTable||{},awesomeTable.visualization=awesomeTable.visualization||{},awesomeTable.visualization.DummyFilter=e}(),function(){function e(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}var t=window.awesomeTable||{};t.visualization=t.visualization||{};var a=function(e){this.container=e,this.elementId="NumberRangeFilter"+(new Date).getTime().toString(),this.label="",this.filterColumn=null,this.minValue=null,this.maxValue=null,this.minCurrentValue=null,this.maxCurrentValue=null,this.acceptNONnumeric=!0,this.noNONnumeric=!0,this.precision=0,this.format=void 0,this.dom={},this.filteringTimeOut=void 0};a.prototype.apply=function(){var e=this,t=new google.visualization.DataView(this.data);return t.setRows(t.getFilteredRows([{column:this.filterColumn,test:function(t){return"number"==typeof t&&t>=e.minCurrentValue&&t<=e.maxCurrentValue||"number"!=typeof t&&e.acceptNONnumeric}}])),t},a.prototype.draw=function(t,a,o){function i(){[r.dom.trackLineDiv,r.dom.track,r.dom.dotMin,r.dom.dotMinDiv,r.dom.dotMax,r.dom.dotMaxDiv].forEach(function(e){e.bbox=e.getBoundingClientRect()})}function n(){clearTimeout(r.filteringTimeOut),r.filteringTimeOut=setTimeout(function(){google.visualization.events.trigger(r,"ready",{}),clearTimeout(r.filteringTimeOut)},250)}function s(e){e.mouseStart=function(t){e.classList.add("dragged"),e.classList.add("selected"),i(),"100%"==e.style.left?e.mousePos=t.clientX-r.dom.trackLineDiv.bbox.width:e.mousePos=t.clientX-parseFloat(e.style.left),e.IStouch?(document.addEventListener("touchmove",e.touchMove),document.addEventListener("touchend",e.mouseStop)):(document.addEventListener("mousemove",e.mouseMove),document.addEventListener("mouseup",e.mouseStop)),document.getElementsByTagName("html")[0].addEventListener("mouseleave",e.mouseStop),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),e.index.inputBlur()},e.mouseMove=function(t){var a=r.minValue+(r.maxValue-r.minValue)*(t.clientX-e.mousePos)/r.dom.trackLineDiv.bbox.width;e.clientX=t.clientX,a=e.moveDot(a),e.index.setValue(a),e.eventStartTime&&new Date-e.eventStartTime>150&&(e.eventStartTime=void 0,e.classList.add("selected"),e.classList.add("dragged")),n()},e.mouseStop=function(t){e.IStouch&&(t.clientX=t.changedTouches[0].clientX),e.mouseMove(t),e.IStouch?(document.removeEventListener("touchend",e.mouseStop),document.removeEventListener("touchmove",e.touchMove)):(document.removeEventListener("mouseup",e.mouseStop),document.removeEventListener("mousemove",e.mouseMove)),document.getElementsByTagName("html")[0].removeEventListener("mouseleave",e.mouseStop),e.mousePos=void 0,e.IStouch=!1,e.eventStartTime=void 0,e.classList.remove("dragged"),e.classList.remove("selected"),clearTimeout(r.filteringTimeOut),google.visualization.events.trigger(r,"ready",{})},e.IStouch=!1,e.touchStart=function(t){e.IStouch=!0,t.clientX=t.changedTouches[0].clientX,e.mouseStart(t),t.preventDefault?t.preventDefault():t.returnValue=!1},e.touchMove=function(t){t.clientX=t.changedTouches[0].clientX,e.mouseMove(t)},e.addEventListener("mousedown",e.mouseStart),e.addEventListener("touchstart",e.touchStart)}function l(e){var t=document.createElement("input"),a=document.createElement("span"),o=document.createElement("div"),n=document.createElement("div");a.style.position="absolute",a.style.visibility="hidden",t.style.width="0",o.classList.add("line-not-selected"),n.classList.add("line-selected"),e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(a),t.resizeOnInput=function(){a.innerHTML=t.value;var e=a.getBoundingClientRect().width+2;t.style.width=e.toString()+"px"},t.addEventListener("input",t.resizeOnInput),t.getInputNumberValue=function(){if(!("keyCode"in event&&13!=event.keyCode)){var t=this.value;t=parseFloat(t),isNaN(t)&&(t=this.oldVal||0),this.oldVal=t,i(),e.setValue(e.dot.moveDot(t)),google.visualization.events.trigger(r,"ready",{}),r.format&&e.inputBlur()}},t.addEventListener("blur",t.getInputNumberValue),t.addEventListener("keyup",t.getInputNumberValue),t.addEventListener("focus",function(){r.format&&(this.value=r[e.current].toFixed(r.precision)),this.parentNode.classList.add("selected")}),t.addEventListener("blur",function(){this.parentNode.classList.remove("selected")}),e.inputBlur=function(){t.blur()},e.setValue=function(e){r.format?t.value=r.format.formatValue(e):t.value=e.toFixed(r.precision),t.resizeOnInput()},e.getValue=function(){return t.value}}var r=this;if(r.options=a,r.state=o,r.filterColumn=a.filterColumnIndex,void 0==r.filterColumnIndex&&void 0!=a.filterColumnLabel)for(var d=t.getNumberOfColumns(),u=0;u<d;u++)if(t.getColumnLabel(u)==a.filterColumnLabel){r.filterColumn=u;break}if(void 0==r.filterColumn)throw new Error("Either filterColumnIndex or filterColumnLabel must be specified.");"ui"in a&&"format"in a.ui&&(r.format=new google.visualization.NumberFormat(a.ui.format)),r.data=t;var c=t.getNumberOfRows(),m=void 0,p=void 0,h=1;for(r.noNONnumeric=!0,u=0;u<c;u++){var g=t.getValue(u,r.filterColumn);if("number"==typeof g){(g<m||void 0==m)&&(m=g),(g>p||void 0==p)&&(p=g);var f=g%1;f&&f<h&&(h=f)}else r.noNONnumeric=!1}if(m||p||(m=p=0),"minValue"in r.options&&!isNaN(r.options.minValue)&&(m=r.options.minValue),"maxValue"in r.options&&!isNaN(r.options.maxValue)&&(p=r.options.maxValue),m>p){var v=p;p=m,m=v}r.minValue=m,r.maxValue=p,r.minCurrentValue=m,r.maxCurrentValue=p,r.precision=e(h.toPrecision(1)),r.state.lowValue&&("number"!=typeof r.state.lowValue&&(r.state.lowValue=parseFloat(r.state.lowValue)),isNaN(r.state.lowValue)||r.state.lowValue<r.minValue?delete r.state.lowValue:r.state.lowValue>r.maxValue&&(r.state.lowValue=r.maxValue)),r.state.highValue&&("number"!=typeof r.state.highValue&&(r.state.highValue=parseFloat(r.state.highValue)),isNaN(r.state.highValue)||r.state.highValue>r.maxValue?delete r.state.highValue:(r.state.highValue<r.minValue&&(r.state.highValue=r.minValue),o.lowValue&&r.state.highValue<r.state.lowValue&&(r.state.highValue=r.state.lowValue))),r.dom&&r.dom.main&&(r.dom.main.parentNode.removeChild(r.dom.main),r.dom={}),r.dom.main=document.createElement("div"),r.dom.main.id=r.elementId,r.dom.main.classList.add("awt-vis-controls-NumberRangeFilter"),r.dom.main.innerHTML='<label class="google-visualization-controls-label"></label><div class="awt-numberRangeFilter">\t<div class="track">\t\t<div class="line">\t\t\t<div>\t\t\t\t<div class="dot dotMin allowNan" style="left: -12px;">\t\t\t\t\t<div></div>\t\t\t\t</div>\t\t\t\t<div class="dot dotMax" style="left: 100%;">\t\t\t\t\t<div></div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>\t<div class="indexes">\t\t<div class="index index-min"></div>\t\t<div class="index-separator"></div>\t\t<div class="index index-max"></div>\t</div></div>',r.dom.label=r.dom.main.querySelector(".google-visualization-controls-label"),r.dom.NumberRangeFilter=r.dom.main.querySelector(".awt-numberRangeFilter"),r.dom.track=r.dom.main.querySelector(".track"),r.dom.trackLineDiv=r.dom.main.querySelector(".line>div"),r.dom.indexMin=r.dom.main.querySelector(".index-min"),r.dom.indexMax=r.dom.main.querySelector(".index-max"),r.dom.dotMin=r.dom.main.querySelector(".dotMin"),r.dom.dotMinDiv=r.dom.main.querySelector(".dotMin>div"),r.dom.dotMax=r.dom.main.querySelector(".dotMax"),r.dom.dotMaxDiv=r.dom.main.querySelector(".dotMax>div"),r.noNONnumeric&&(r.dom.dotMin.style.left="0px",r.dom.dotMin.classList.remove("allowNan"),r.dom.trackLineDiv.classList.add("noNONnumeric")),a.ui&&a.ui.label?r.label=a.ui.label:r.label=t.getColumnLabel(r.filterColumn),r.dom.label.innerHTML=r.label,a.ui&&a.ui.labelStacking&&"vertical"!=a.ui.labelStacking&&r.dom.main.classList.add("label-horizontal"),i(),r.dom.dotMin.index=r.dom.indexMin,r.dom.dotMax.index=r.dom.indexMax,r.dom.dotMin.innerDot=r.dom.dotMinDiv,r.dom.dotMax.innerDot=r.dom.dotMaxDiv,r.dom.dotMin.moveDot=function(e){var t=!r.noNONnumeric&&r.minCurrentValue==r.minValue&&r.dom.dotMin.clientX-r.dom.track.bbox.left<0;e<r.minValue&&(e=r.minValue),e>r.maxValue&&(e=r.maxValue),e>r.maxCurrentValue&&(e=r.maxCurrentValue);var a=r.maxValue-r.minValue==0?0:(e-r.minValue)*r.dom.trackLineDiv.bbox.width/(r.maxValue-r.minValue);return t?(r.dom.dotMin.style.left="-12px",r.dom.dotMin.classList.add("allowNan"),r.acceptNONnumeric=!0):(r.dom.dotMin.style.left=a+"px",r.dom.dotMin.classList.remove("allowNan"),r.acceptNONnumeric=!1),e=r.minValue+(r.maxValue-r.minValue)*a/r.dom.trackLineDiv.bbox.width,r.minCurrentValue=e,e},r.dom.dotMax.moveDot=function(e){e<r.minValue&&(e=r.minValue),e>r.maxValue&&(e=r.maxValue),e<r.minCurrentValue&&(e=r.minCurrentValue);var t=r.maxValue-r.minValue==0?r.dom.trackLineDiv.bbox.width:(e-r.minValue)*r.dom.trackLineDiv.bbox.width/(r.maxValue-r.minValue);return 0==r.dom.trackLineDiv.bbox.width?r.dom.dotMax.style.left="100%":r.dom.dotMax.style.left=t+"px",e=r.minValue+(r.maxValue-r.minValue)*t/r.dom.trackLineDiv.bbox.width,r.maxCurrentValue=e,e},s(r.dom.dotMin),s(r.dom.dotMax),r.dom.track.chooseDot=function(e,t){if(i(),Math.abs(e.clientX-r.dom.dotMin.bbox.left-r.dom.dotMin.bbox.width/2)<Math.abs(e.clientX-r.dom.dotMax.bbox.left-r.dom.dotMax.bbox.width/2)){var a=r.dom.dotMin;a.mousePos=r.dom.trackLineDiv.bbox.left+a.innerDot.bbox.width/2}else(a=r.dom.dotMax).mousePos=r.dom.trackLineDiv.bbox.left+1.5*a.innerDot.bbox.width;t&&(a.IStouch=!0),a.clientX=e.clientX,a.eventStartTime=new Date,document.getElementsByTagName("html")[0].addEventListener("mouseleave",a.mouseStop),a.IStouch?(document.addEventListener("touchmove",a.touchMove),document.addEventListener("touchend",a.mouseStop),a.touchMove(e)):(document.addEventListener("mousemove",a.mouseMove),document.addEventListener("mouseup",a.mouseStop),a.mouseMove(e)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),a.index.inputBlur()},r.dom.track.chooseDotTouch=function(e){e.clientX=e.changedTouches[0].clientX,r.dom.track.chooseDot(e,!0)},r.dom.track.addEventListener("mousedown",r.dom.track.chooseDot),r.dom.track.addEventListener("touchstart",r.dom.track.chooseDotTouch),r.dom.indexMin.dot=r.dom.dotMin,r.dom.indexMax.dot=r.dom.dotMax,r.dom.indexMin.current="minCurrentValue",r.dom.indexMax.current="maxCurrentValue",l(r.dom.indexMin),l(r.dom.indexMax),r.state.lowValue&&(r.minCurrentValue=r.state.lowValue),r.state.highValue&&(r.maxCurrentValue=r.state.highValue),r.container.innerHTML="",r.container.appendChild(r.dom.main),r.dom.indexMin.setValue(r.minCurrentValue),r.dom.indexMax.setValue(r.maxCurrentValue),r.state.lowValue&&(i(),r.dom.dotMin.moveDot(r.minCurrentValue)),r.state.highValue&&(i(),r.dom.dotMax.moveDot(r.maxCurrentValue)),google.visualization.events.trigger(r,"ready",{})},a.prototype.dispose=function(){for(var e in this)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]),delete this[e]},a.prototype.getState=function(){return{lowValue:this.minCurrentValue,highValue:this.maxCurrentValue}},window.awesomeTable=t,t.visualization=t.visualization,t.visualization.NumberRangeFilter=a,t.visualization.NumberRangeFilter.prototype.apply=a.prototype.apply,t.visualization.NumberRangeFilter.prototype.dispose=a.prototype.dispose,t.visualization.NumberRangeFilter.prototype.draw=a.prototype.draw,t.visualization.NumberRangeFilter.prototype.getState=a.prototype.getState}(),function(){var e=window.awesomeTable||{};e.visualization=e.visualization||{};var t=function(e){this.container=e,this.elementId="DateFilter"+(new Date).getTime().toString(),this.label="",this.filterColumn=null,this.minValue=null,this.maxValue=null,this.minCurrentValue=null,this.maxCurrentValue=null,this.acceptNONnumeric=!0,this.noNONnumeric=!0,this.format=void 0,this.dom={},this.filteringTimeOut=void 0};t.prototype.apply=function(){var e=this,t=new google.visualization.DataView(this.data);return t.setRows(t.getFilteredRows([{column:this.filterColumn,test:function(t){var a=!!t&&t.constructor&&t.constructor.prototype==Date.prototype;return a&&t>=e.minCurrentValue&&t<=e.maxCurrentValue||!a&&e.acceptNONnumeric}}])),t},t.prototype.draw=function(e,t,a){function o(){[l.dom.trackLineDiv,l.dom.track,l.dom.dotMin,l.dom.dotMinDiv,l.dom.dotMax,l.dom.dotMaxDiv].forEach(function(e){e.bbox=e.getBoundingClientRect()})}function i(){clearTimeout(l.filteringTimeOut),l.filteringTimeOut=setTimeout(function(){google.visualization.events.trigger(l,"ready",{}),clearTimeout(l.filteringTimeOut)},250)}function n(e){e.mouseStart=function(t){e.classList.add("dragged"),e.classList.add("selected"),o(),"100%"==e.style.left?e.mousePos=t.clientX-l.dom.trackLineDiv.bbox.width:e.mousePos=t.clientX-parseFloat(e.style.left),e.IStouch?(document.addEventListener("touchmove",e.touchMove),document.addEventListener("touchend",e.mouseStop)):(document.addEventListener("mousemove",e.mouseMove),document.addEventListener("mouseup",e.mouseStop)),document.getElementsByTagName("html")[0].addEventListener("mouseleave",e.mouseStop),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),e.index.inputBlur()},e.mouseMove=function(t){var a=l.minValue+(l.maxValue-l.minValue)*(t.clientX-e.mousePos)/l.dom.trackLineDiv.bbox.width;e.clientX=t.clientX,a=e.moveDot(a),e.index.setValue(a),e.eventStartTime&&new Date-e.eventStartTime>150&&(e.eventStartTime=void 0,e.classList.add("selected"),e.classList.add("dragged")),i()},e.mouseStop=function(t){e.IStouch&&(t.clientX=t.changedTouches[0].clientX),e.mouseMove(t),e.IStouch?(document.removeEventListener("touchend",e.mouseStop),document.removeEventListener("touchmove",e.touchMove)):(document.removeEventListener("mouseup",e.mouseStop),document.removeEventListener("mousemove",e.mouseMove)),document.getElementsByTagName("html")[0].removeEventListener("mouseleave",e.mouseStop),e.mousePos=void 0,e.IStouch=!1,e.eventStartTime=void 0,e.classList.remove("dragged"),e.classList.remove("selected"),clearTimeout(l.filteringTimeOut),google.visualization.events.trigger(l,"ready",{})},e.IStouch=!1,e.touchStart=function(t){e.IStouch=!0,t.clientX=t.changedTouches[0].clientX,e.mouseStart(t),t.preventDefault?t.preventDefault():t.returnValue=!1},e.touchMove=function(t){t.clientX=t.changedTouches[0].clientX,e.mouseMove(t)},e.addEventListener("mousedown",e.mouseStart),e.addEventListener("touchstart",e.touchStart)}function s(e){var t=document.createElement("input"),a=document.createElement("span"),i=document.createElement("div"),n=document.createElement("div");a.style.position="absolute",a.style.visibility="hidden",t.style.width="0",t.setAttribute("readonly",""),i.classList.add("line-not-selected"),n.classList.add("line-selected"),e.appendChild(t),e.appendChild(i),e.appendChild(n),e.appendChild(a),t.resizeOnInput=function(){a.innerHTML=t.value;var e=a.getBoundingClientRect().width+2;t.style.width=e.toString()+"px"},t.getInputNumberValue=function(){if(!("keyCode"in event&&13!=event.keyCode)){var t=this.value;t=parseFloat(t),isNaN(t)&&(t=this.oldVal||0),this.oldVal=t,o(),e.setValue(e.dot.moveDot(t)),google.visualization.events.trigger(l,"ready",{}),e.inputBlur()}},e.inputBlur=function(){t.blur()},e.setValue=function(e){e=new Date(e),t.value=l.format.formatValue(e),t.resizeOnInput()},e.getValue=function(){return t.value}}var l=this;if(l.options=t,l.state=a,l.filterColumn=t.filterColumnIndex,void 0==l.filterColumnIndex&&void 0!=t.filterColumnLabel)for(var r=e.getNumberOfColumns(),d=0;d<r;d++)if(e.getColumnLabel(d)==t.filterColumnLabel){l.filterColumn=d;break}if(void 0==l.filterColumn)throw new Error("Either filterColumnIndex or filterColumnLabel must be specified.");"ui"in t&&"format"in t.ui?l.format=new google.visualization.DateFormat(t.ui.format):l.format=new google.visualization.DateFormat({pattern:"dd/MM/yyyy"}),l.data=e;var u=e.getNumberOfRows(),c=void 0,m=void 0;l.noNONnumeric=!0;for(var p=0;p<u;p++){var h=e.getValue(p,l.filterColumn);!!h&&h.constructor&&h.constructor.prototype==Date.prototype?(((h=h.getTime())<c||void 0==c)&&(c=h),(h>m||void 0==m)&&(m=h)):l.noNONnumeric=!1}if(c||m||(c=m=0),"minValue"in l.options&&!isNaN(l.options.minValue)&&(c=l.options.minValue),"maxValue"in l.options&&!isNaN(l.options.maxValue)&&(m=l.options.maxValue),c>m){var g=m;m=c,c=g}l.minValue=c,l.maxValue=m,l.minCurrentValue=c,l.maxCurrentValue=m,void 0!==l.state.lowValue&&(l.state.lowValue=l.state.lowValue.constructor.prototype===Date.prototype?l.state.lowValue.getTime():new Date(/^\d+$/.test(l.state.lowValue)?parseInt(l.state.lowValue):l.state.lowValue).getTime(),isNaN(l.state.lowValue)||l.state.lowValue<=l.minValue?delete l.state.lowValue:l.state.lowValue>l.maxValue&&(l.state.lowValue=l.maxValue)),void 0!==l.state.highValue&&(l.state.highValue=l.state.highValue.constructor.prototype===Date.prototype?l.state.highValue.getTime():new Date(/^\d+$/.test(l.state.highValue)?parseInt(l.state.highValue):l.state.highValue).getTime(),isNaN(l.state.highValue)||l.state.highValue>l.maxValue?delete l.state.highValue:(l.state.highValue<l.minValue&&(l.state.highValue=l.minValue),a.lowValue&&l.state.highValue<l.state.lowValue&&(l.state.highValue=l.state.lowValue))),void 0!==l.state.allowNonNumeric&&(l.allowNonNumeric=l.state.allowNonNumeric),l.dom&&l.dom.main&&(l.dom.main.parentNode.removeChild(l.dom.main),l.dom={}),l.dom.main=document.createElement("div"),l.dom.main.id=l.elementId,l.dom.main.classList.add("awt-vis-controls-DateFilter"),l.dom.main.innerHTML='<label class="google-visualization-controls-label"></label><div class="awt-DateFilter">\t<div class="track">\t\t<div class="line">\t\t\t<div>\t\t\t\t<div class="dot dotMin allowNan" style="left: -12px;">\t\t\t\t\t<div></div>\t\t\t\t</div>\t\t\t\t<div class="dot dotMax" style="left: 100%;">\t\t\t\t\t<div></div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>\t<div class="indexes">\t\t<div class="index index-min"></div>\t\t<div class="index-separator"></div>\t\t<div class="index index-max"></div>\t</div></div>',l.dom.label=l.dom.main.querySelector(".google-visualization-controls-label"),l.dom.DateFilter=l.dom.main.querySelector(".awt-DateFilter"),l.dom.track=l.dom.main.querySelector(".track"),l.dom.trackLineDiv=l.dom.main.querySelector(".line>div"),l.dom.indexMin=l.dom.main.querySelector(".index-min"),l.dom.indexMax=l.dom.main.querySelector(".index-max"),l.dom.dotMin=l.dom.main.querySelector(".dotMin"),l.dom.dotMinDiv=l.dom.main.querySelector(".dotMin>div"),l.dom.dotMax=l.dom.main.querySelector(".dotMax"),l.dom.dotMaxDiv=l.dom.main.querySelector(".dotMax>div"),l.noNONnumeric&&(l.dom.dotMin.style.left="0px",l.dom.dotMin.classList.remove("allowNan"),l.dom.trackLineDiv.classList.add("noNONnumeric")),t.ui&&t.ui.label?l.label=t.ui.label:l.label=e.getColumnLabel(l.filterColumn),l.dom.label.innerHTML=l.label,t.ui&&t.ui.labelStacking&&"vertical"!=t.ui.labelStacking&&l.dom.main.classList.add("label-horizontal"),o(),l.dom.dotMin.index=l.dom.indexMin,l.dom.dotMax.index=l.dom.indexMax,l.dom.dotMin.innerDot=l.dom.dotMinDiv,l.dom.dotMax.innerDot=l.dom.dotMaxDiv,l.dom.dotMin.moveDot=function(e){var t=!l.noNONnumeric&&l.minCurrentValue==l.minValue&&l.dom.dotMin.clientX-l.dom.track.bbox.left<0;e<l.minValue&&(e=l.minValue),e>l.maxValue&&(e=l.maxValue),e>l.maxCurrentValue&&(e=l.maxCurrentValue);var a=l.maxValue-l.minValue==0?0:(e-l.minValue)*l.dom.trackLineDiv.bbox.width/(l.maxValue-l.minValue);return t?(l.dom.dotMin.style.left="-12px",l.dom.dotMin.classList.add("allowNan"),l.acceptNONnumeric=!0):(l.dom.dotMin.style.left=a+"px",l.dom.dotMin.classList.remove("allowNan"),l.acceptNONnumeric=!1),e=l.minValue+(l.maxValue-l.minValue)*a/l.dom.trackLineDiv.bbox.width,l.minCurrentValue=e,e},l.dom.dotMax.moveDot=function(e){e<l.minValue&&(e=l.minValue),e>l.maxValue&&(e=l.maxValue),e<l.minCurrentValue&&(e=l.minCurrentValue);var t=l.maxValue-l.minValue==0?l.dom.trackLineDiv.bbox.width:(e-l.minValue)*l.dom.trackLineDiv.bbox.width/(l.maxValue-l.minValue);return 0==l.dom.trackLineDiv.bbox.width?l.dom.dotMax.style.left="100%":l.dom.dotMax.style.left=t+"px",e=l.minValue+(l.maxValue-l.minValue)*t/l.dom.trackLineDiv.bbox.width,l.maxCurrentValue=e,e},n(l.dom.dotMin),n(l.dom.dotMax),l.dom.track.chooseDot=function(e,t){o();var a=void 0;Math.abs(e.clientX-l.dom.dotMin.bbox.left-l.dom.dotMin.bbox.width/2)<Math.abs(e.clientX-l.dom.dotMax.bbox.left-l.dom.dotMax.bbox.width/2)?(a=l.dom.dotMin).mousePos=l.dom.trackLineDiv.bbox.left+a.innerDot.bbox.width/2:(a=l.dom.dotMax).mousePos=l.dom.trackLineDiv.bbox.left+1.5*a.innerDot.bbox.width,t&&(a.IStouch=!0),a.clientX=e.clientX,a.eventStartTime=new Date,document.getElementsByTagName("html")[0].addEventListener("mouseleave",a.mouseStop),a.IStouch?(document.addEventListener("touchmove",a.touchMove),document.addEventListener("touchend",a.mouseStop),a.touchMove(e)):(document.addEventListener("mousemove",a.mouseMove),document.addEventListener("mouseup",a.mouseStop),a.mouseMove(e)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),a.index.inputBlur()},l.dom.track.chooseDotTouch=function(e){e.clientX=e.changedTouches[0].clientX,l.dom.track.chooseDot(e,!0)},l.dom.track.addEventListener("mousedown",l.dom.track.chooseDot),l.dom.track.addEventListener("touchstart",l.dom.track.chooseDotTouch),l.dom.indexMin.dot=l.dom.dotMin,l.dom.indexMax.dot=l.dom.dotMax,l.dom.indexMin.current="minCurrentValue",l.dom.indexMax.current="maxCurrentValue",s(l.dom.indexMin),s(l.dom.indexMax),a.lowValue&&(l.minCurrentValue=l.state.lowValue),a.highValue&&(l.maxCurrentValue=l.state.highValue),l.container.innerHTML="",l.container.appendChild(l.dom.main),l.dom.indexMin.setValue(l.minCurrentValue),l.dom.indexMax.setValue(l.maxCurrentValue),a.lowValue&&(o(),l.dom.dotMin.moveDot(l.minCurrentValue)),a.highValue&&(o(),l.dom.dotMax.moveDot(l.maxCurrentValue)),google.visualization.events.trigger(l,"ready",{})},t.prototype.dispose=function(){for(var e in this)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]),delete this[e]},t.prototype.getState=function(){return{lowValue:new Date(this.minCurrentValue),highValue:new Date(this.maxCurrentValue),allowNonNumeric:this.allowNonNumeric}},window.awesomeTable=e,e.visualization=e.visualization,e.visualization.DateFilter=t,e.visualization.DateFilter.prototype.apply=t.prototype.apply,e.visualization.DateFilter.prototype.dispose=t.prototype.dispose,e.visualization.DateFilter.prototype.draw=t.prototype.draw,e.visualization.DateFilter.prototype.getState=t.prototype.getState}(),function(){var e=function(e){this.container=e,this.elementId="csvFilter"+(new Date).getTime().toString(),this._filterSeparator=void 0,this._filterFunction=void 0,this._dom={},this._filterColumn=null,this._label="",this._caption="",this._useLabelStacking=!1,this._downArrow="",this._dataTable=void 0,this._filterValues={},this._distincts=void 0,this._listValues={},this._dropDown=void 0};e.prototype.apply=function(){var e=this,t=new google.visualization.DataView(this._dataTable);return!this._filterValues||Object.keys(this._filterValues).length<=0?t:(t.setRows(t.getFilteredRows([{column:this._filterColumn,test:function(t){var a=void 0;if("number"==typeof t)a=[t.toString()];else{if(!t)return!1;"object"==(void 0===t?"undefined":_typeof(t))&&(t.toLocaleDateString||t.toString)?a=[t.toLocaleDateString?t.toLocaleDateString():t.toString()]:t.split&&(a=t.split(e._filterSeparator).map(function(e){return e.trim()}))}return e._filterFunction(e._filterValues,a)}}])),t)},e.prototype.draw=function(t,a,o){if(this._setup||this._firstLoad(),this._numberRows=t.getNumberOfRows(),this._dataTable=t,this._options=a||{},this.state=o,this._filterSeparator="filterSeparator"in a?a.filterSeparator:e._Default.filterSeparator,this._filterFunction=a.filterFunction||e.FilterFunction[e._Default.filterFunction],this._filterColumn=a.filterColumnIndex,void 0===this._filterColumn&&void 0!=a.filterColumnLabel)for(var i=0;i<this._numberRows;i++)if(t.getColumnLabel(i)==a.filterColumnLabel){this._filterColumn=i;break}if(void 0===this._filterColumn)throw new Error("Either filterColumnIndex or filterColumnLabel must be specified.");this._filterValues={},this._label=a.ui&&a.ui.label||"",this._caption=a.ui&&a.ui.caption||t.getColumnLabel(this._filterColumn),this._useLabelStacking=!(a.ui&&"vertical"!=a.ui.labelStacking),this._downArrow=a.ui&&a.ui.downArrow||e._Default.downArrow,this._distincts=this._getCsvValue(this._filterColumn),this._dom.downArrow.innerHTML=this._downArrow,this._dom.filterContainer.style.display=this._useLabelStacking?"inline-block":"",this._dom.labelInternal.innerHTML=this._caption,this._dom.menuButton.title=this._dom.labelInternal.textContent,this._label?(this._dom.label.innerHTML=this._label,this._dom.label.title=this._dom.label.textContent,this._dom.label.parentNode!==this._dom.top&&this._dom.top.insertBefore(this._dom.label,this._dom.filterContainer)):this._dom.label.parentNode.removeChild(this._dom.label),this._listValues={},this._numberDistinct=this._distincts.getNumberOfRows();for(var n=0;n<this._numberDistinct;n++){var s=document.createElement("div"),l=this._distincts.getValue(n,0),r=this._distincts.getValue(n,1);s.classList.add(e._class.item,"charts-menuitem"),s.dataRef=":"+l,s.innerHTML='<div class="'+e._class.itemText+'">'+l+'</div>\n<div class="'+e._class.itemCount+'">('+r+")</div>";var d=s.querySelector("."+e._class.itemText);d.title=d.textContent,this._listValues[":"+l]={value:l,count:r,dom:s},s.addEventListener("click",this._onMenuItemClick),s.addEventListener("mouseenter",this._onMenuItemEnter),s.addEventListener("mouseleave",this._onMenuItemLeave),this._dom.dropDownMenu.appendChild(s)}if(this.state&&this.state.selectedValues&&this.state.selectedValues.length>0)for(var u in this._listValues)-1!=this.state.selectedValues.indexOf(this._listValues[u].value)&&this._onMenuItemClick(void 0,this._listValues[u].dom);google.visualization.events.trigger(this,"ready",{})},e.prototype.dispose=function(){this._dropDown.dispose();for(var e in this)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]),delete this[e]},e.prototype.getState=function(){var e=[];for(var t in this._filterValues)e.push(this._filterValues[t].value);return{selectedValues:e}},e.FilterFunction={"A&&B":function(e,t){for(var a in e)if(-1==t.indexOf(e[a].value))return!1;return!0},"A||B":function(e,t){for(var a in e)if(-1!=t.indexOf(e[a].value))return!0;return!1}},e.DropDownIcon={"keyboard-arrow-down":'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/></g></svg>',add:'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></g></svg>'},e.prototype._firstLoad=function(){this._dom.top=document.createElement("div"),this._dom.top.id=this.elementId,this._dom.top.classList.add(e._class.top),this.container.innerHTML="",this.container.appendChild(this._dom.top),this._dom.top.innerHTML='<label class="'+e._class.label+'"></label>\n<div class="'+e._class.filterContainer+'">\n\t<div class="'+e._class.filter+'">\n\t\t<div class="'+e._class.button+'">\n\t\t\t<div class="'+e._class.labelInternal+'"></div>\n\t\t\t<div class="'+e._class.downArrow+'"></div>\n\t\t</div>\n\t\t<div class="'+e._class.dropDownMenu+' charts-menu charts-menu-vertical" style="display: none;"></div>\n\t</div>\n\t<ul class="'+e._class.selectedList+'"></ul>\n</div>',this._dom.label=this._dom.top.querySelector("."+e._class.label),this._dom.labelInternal=this._dom.top.querySelector("."+e._class.labelInternal),this._dom.filterContainer=this._dom.top.querySelector("."+e._class.filterContainer),this._dom.filter=this._dom.top.querySelector("."+e._class.filter),this._dom.menuButton=this._dom.top.querySelector("."+e._class.button),this._dom.downArrow=this._dom.top.querySelector("."+e._class.downArrow),this._dom.selectedList=this._dom.top.querySelector("."+e._class.selectedList),this._dom.dropDownMenu=this._dom.top.querySelector("."+e._class.dropDownMenu),this._onMenuItemClick=this._onMenuItemClick.bind(this),this._dropDown=new awesomeTable.DropDownMenu(this._dom.menuButton,this._dom.dropDownMenu),this._setup=!0},e.prototype._getCsvValue=function(e){for(var t={},a=0;a<this._numberRows;a++){var o=this._dataTable.getValue(a,e);if("number"==typeof o){var i=o.toString(),n=":"+i;t[n]?t[n].n++:t[n]={s:o,v:i,n:1}}else if(o)if("object"==(void 0===o?"undefined":_typeof(o))&&(o.toLocaleDateString||o.toString)){var s=o.toLocaleDateString?o.toLocaleDateString():o.toString(),l=":"+s;t[l]?t[l].n++:t[l]={s:o,v:s,n:1}}else o.split&&o.split(this._filterSeparator).map(function(e){var a=e.trim();if(a){var o=":"+a;t[o]?t[o].n++:t[o]={s:a.toLowerCase(),v:a,n:1}}});else;}var r={cols:[{id:"A",label:this._dataTable.getColumnLabel(e),type:"string"},{id:"B",label:"count",type:"number"},{id:"C",label:"sortValue",type:"string"}],rows:[]};for(var d in t)r.rows.push({c:[{v:t[d].v},{v:t[d].n},{v:t[d].s}]});return r.rows.sort(function(e,t){var a=e.c[2].v,o=t.c[2].v;if("string"==typeof a&&"string"==typeof o&&/^\d/.test(a)&&/^\d/.test(o)){var i=parseInt(a,10),n=parseInt(o,10);if(n!=i)return n<i?1:-1;a=a.replace(/^[0-9.]+/,""),o=o.replace(/^[0-9.]+/,"")}return(void 0===a?"undefined":_typeof(a))!==(void 0===o?"undefined":_typeof(o))&&(a=""+a,o=""+o),o==a?0:o<a?1:-1}),new google.visualization.DataTable(r)},e.prototype._onMenuItemClick=function(t,a){var o=this,i=a;if(!i){for(i=t.target;i&&!i.dataRef;)i=i.parentElement;if(!i)return}var n=this._listValues[i.dataRef],s=document.createElement("li");s.innerHTML='<div class="'+e._class.itemClose+'">'+e._Icons.close+'</div>\n<div class="'+e._class.itemSelectedValue+'">'+n.value+"</div>",s.title=s.querySelector("."+e._class.itemSelectedValue).textContent,s.querySelector("."+e._class.itemClose).addEventListener("click",function(){n.dom.style.display="",o._dom.filter.classList.remove(e._class.itemDisabled),o._filterValues[i.dataRef].dom.parentNode.removeChild(o._filterValues[i.dataRef].dom),delete o._filterValues[i.dataRef],google.visualization.events.trigger(o,"ready",{})}),this._dom.selectedList.appendChild(s),this._filterValues[i.dataRef]={value:n.value,dom:s},Object.keys(this._filterValues).length==Object.keys(this._listValues).length&&this._dom.filter.classList.add(e._class.itemDisabled),this._dropDown.closeMenu(),n.dom.style.display="none",a||google.visualization.events.trigger(this,"ready",{})},e.prototype._onMenuItemEnter=function(){this.classList.add("charts-menuitem-highlight")},e.prototype._onMenuItemLeave=function(){this.classList.remove("charts-menuitem-highlight")},e._class={top:"awt-vis-controls-csvFilter",filterContainer:"awt-csvFilter-cont",label:"google-visualization-controls-label",labelInternal:"awt-csvFilter-label",filter:"awt-csvFilter",selectedList:"awt-csvFilter-selected",itemSelectedValue:"awt-csvFilter-selected-item",dropDownMenu:"awt-csvFilter-dropdown-menu",button:"awt-csvFilter-button",downArrow:"awt-csvFilter-downArrow",item:"csvFilter-item",itemCount:"csvFilter-itemCount",itemText:"csvFilter-itemText",itemClose:"awt-csvFilter-closeButton",itemDisabled:"awt-disabled"},e._Default={filterSeparator:",",filterFunction:"A&&B",downArrow:"&#9660;"},e._Icons={close:'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>'},window.awesomeTable=window.awesomeTable||{},awesomeTable.visualization=window.awesomeTable.visualization||{},awesomeTable.visualization.csvFilter=e}(),function(){var e=function e(t){this.container=t,this.elementId="searchFilter"+(new Date).getTime().toString(),this.state={value:""},this._dom={},this._filterColumn=null,this._label="",this._caption="",this._labelMode=e.labelMode.PLACEHOLDER,this._useLabelStacking=!1,this._dataTable=void 0,this._searchDebounce={TIME:400,timeOut:null}};e.prototype.apply=function(){var e=this,t=new google.visualization.DataView(this._dataTable);return this.state.value?(t.setRows(t.getFilteredRows([{column:this._filterColumn,test:function(t){"string"!=typeof t&&(t=""+t),t=t.toLowerCase();var a=e.state.value.toLowerCase();return-1!==t.indexOf(a)}}])),t):t},e.prototype.draw=function(t,a,o){if(this._setup||this._firstLoad(),this._numberRows=t.getNumberOfRows(),this._dataTable=t,this._options=a||{},this.state=o,this.state.value?this._dom.input.value=this.state.value:this.state={value:""},this._filterColumn=a.filterColumnIndex,void 0===this._filterColumn&&void 0!==a.filterColumnLabel)for(var i=0;i<this._numberRows;i++)if(t.getColumnLabel(i)==a.filterColumnLabel){this._filterColumn=i;break}if(void 0==this._filterColumn)throw new Error("Either filterColumnIndex or filterColumnLabel must be specified.");this._label=a.ui&&a.ui.label||"",a.ui&&"caption"in a.ui?this._caption=a.ui.caption:this._caption=t.getColumnLabel(this._filterColumn),this._labelMode=a.ui&&a.ui.labelMode in e.labelMode&&a.ui.labelMode||e.labelMode.PLACEHOLDER;var n=document.createElement("div");n.innerHTML=this._labelMode===e.labelMode.PLACEHOLDER?this._label:this._caption,this._dom.input.placeholder=n.innerText,this._labelMode===e.labelMode.PLACEHOLDER||this._labelMode===e.labelMode.NONE?this._dom.label.style.display="none":(this._dom.label.innerHTML=this._label,this._dom.top.classList.add(e._class["labelStacking_"+this._labelMode])),google.visualization.events.trigger(this,"ready",{})},e.prototype.dispose=function(){for(var e in this)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]),delete this[e]},e.prototype.getState=function(){return this.state},e.labelMode={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",PLACEHOLDER:"PLACEHOLDER",NONE:"NONE"},e.prototype._firstLoad=function(){this._dom.top=document.createElement("div"),this._dom.top.id=this.elementId,this._dom.top.classList.add(e._class.top),this.container.innerHTML="",this.container.appendChild(this._dom.top),this._dom.top.innerHTML='<label class="'+e._class.label+' google-visualization-controls-label"></label>\n<div class="'+e._class.filterContainer+'">\n\t<input class="'+e._class.input+'" />\n</div>',this._dom.label=this._dom.top.querySelector("."+e._class.label),this._dom.filterContainer=this._dom.top.querySelector("."+e._class.filterContainer),this._dom.input=this._dom.top.querySelector("."+e._class.input),this._onInput=this._onInput.bind(this),this._search=this._search.bind(this),this._dom.input.addEventListener("keyup",this._onInput),this._setup=!0},e.prototype._onInput=function(){this.state.value=this._dom.input.value,clearTimeout(this._searchDebounce.timeOut),this._searchDebounce.timeOut=window.setTimeout(this._search,this._searchDebounce.TIME)},e.prototype._search=function(){google.visualization.events.trigger(this,"ready",{})},e._class={top:"awt-vis-controls-SearchFilter",label:"awt-searchFilter-label",filterContainer:"awt-searchFilter-cont",input:"awt-searchFilter-input",labelStacking_HORIZONTAL:"awt-searchFilter-label-stack-horizontal",labelStacking_VERTICAL:"awt-searchFilter-label-stack-vertical"},e._Icons={close:'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>'},window.awesomeTable=window.awesomeTable||{},awesomeTable.visualization=window.awesomeTable.visualization||{},awesomeTable.visualization.SearchFilter=e}(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.ResizeSensor=t()}(this,function(){function e(e,t){var a=Object.prototype.toString.call(e),o="[object Array]"===a||"[object NodeList]"===a||"[object HTMLCollection]"===a||"[object Object]"===a||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,n=e.length;if(o)for(;i<n;i++)t(e[i]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},a=function a(o,i){function n(){var e=[];this.add=function(t){e.push(t)};var t,a;this.call=function(){for(t=0,a=e.length;t<a;t++)e[t].call()},this.remove=function(o){var i=[];for(t=0,a=e.length;t<a;t++)e[t]!==o&&i.push(e[t]);e=i},this.length=function(){return e.length}}function s(e,a){if(e)if(e.resizedAttached)e.resizedAttached.add(a);else{e.resizedAttached=new n,e.resizedAttached.add(a),e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var o="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=o,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),e.resizeSensor.offsetParent!==e&&(e.style.position="relative");var s,l,r,d,u=e.resizeSensor.childNodes[0],c=u.childNodes[0],m=e.resizeSensor.childNodes[1],p=e.offsetWidth,h=e.offsetHeight,g=function(){c.style.width="100000px",c.style.height="100000px",u.scrollLeft=1e5,u.scrollTop=1e5,m.scrollLeft=1e5,m.scrollTop=1e5};g();var f=function(){l=0,s&&(p=r,h=d,e.resizedAttached&&e.resizedAttached.call())},v=function(){r=e.offsetWidth,d=e.offsetHeight,(s=r!=p||d!=h)&&!l&&(l=t(f)),g()},w=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener(t,a)};w(u,"scroll",v),w(m,"scroll",v)}}e(o,function(e){s(e,i)}),this.detach=function(e){a.detach(o,e)}};return a.detach=function(t,a){e(t,function(e){e&&(e.resizedAttached&&"function"==typeof a&&(e.resizedAttached.remove(a),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},a}),function(e,t,a,o,i,n,s){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,n=t.createElement(a),s=t.getElementsByTagName(a)[0],n.async=1,n.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(n,s)}(window,document,"script",0,"ga"),function(){var e=function(e,t){this.name=t,ga("create",e,"auto",{name:this.name})};e.prototype.setUserId=function(e){ga(this.name+".set","userId",awesomeTable.tools.digestUID(e))},e.prototype.setCustomD=function(e){ga(this.name+".set",e)},e.prototype.sendStats=function(e,t){e.action||e.category||(t=e,e=void 0),t=t||{},e&&e.category&&(t.eventCategory=e.category),e&&e.action&&(t.eventAction=e.action),t.hitType||(t.hitType="event"),t.eventLabel||(t.eventLabel=awesomeTable.settings.rootDomain),ga(this.name+".send",t)},e.prototype.sendPageView=function(){if(this._lastLocation!==location.href){this._lastLocation=location.href;var e={hitType:"pageview",location:location.href,page:location.pathname.replace(/\/([^\/]+)\/(?:edit|settings|view|preview|print)/,function(e,t){return e.replace(t,"$VIEWID")})};ga(this.name+".send",e)}},e.prototype.sendTiming=function(e,t){if(e.hitType="timing",t)for(var a in t)e[a]=t[a];ga(this.name+"send",e)},e.EVENT={creation:{category:"creation",action:"new"},edition:{category:"edition",action:"normal"},suppression:{category:"suppression",action:"normal"},clickRateApp:{category:"clickToast",action:"rateApp"},clickInstallApp:{category:"clickToast",action:"installApp"},showRateApp:{category:"showToast",action:"rateApp"},showInstallApp:{category:"showToast",action:"installApp"}},e.getTemplateUsage=function(e){if(!e)return"none";var t=e.split("!");return t=t[t.length-1].split(":"),1===t.length||t[0]===t[1]?"basic":"advanced"},window.awesomeTable=window.awesomeTable||{},awesomeTable.Stat=e}(),function(){window.awesomeTable=window.awesomeTable||{},awesomeTable.settings=awesomeTable.settings||{};var e={apiKey:"AIzaSyAPCgK_J99eBCsm0Ub6vnivt3_GVFcXqVM",rootDomain:"awesome-table",rootDomainComplete:"awesome-table.com",viewDomainComplete:"view-awesome-table.com",domainProtocol:"https://",gaPrefix:""};e.viewDomainHost=e.viewDomainComplete.split("/")[0],e.rootSite=e.domainProtocol+e.rootDomainComplete;for(var t in e)awesomeTable.settings[t]=e[t]}(),function(){var e={gadgetGetParentURL:function(){try{if(document.referrer){var e=/\/\/[^\/]+?googleusercontent\.com\/gadgets\/ifr\?.*url=[^&]+awesome-table\.xml.*parent=([^?]+?)(?:\?|&.+|$)/.exec(document.referrer);if(e&&e[1]){var t=document.URL.match(/https?:\/\/.+?\?(.+)$/);return t=t&&t.length>1?"?"+t[1]:"",e[1]+t}}}catch(e){}return""},inGadget:function(){return!(""==e.gadgetGetParentURL())},inIframe:function(){try{if(document.referrer){var e=/https?:\/\/([^\/]+)(?:\/views)?\/(?:([^\/]+)\/(view|print|edit|settings)|(create))(?:\?.+)?/.exec(document.referrer);if(e&&e[1]==awesomeTable.settings.rootDomainComplete&&"view"==e[3])return!1}return window.self!==window.top}catch(e){return!0}},inPreview:function(){var e=[];try{if((e=document.referrer&&document.referrer.split("/"))[2]!==awesomeTable.settings.rootDomainComplete)return""}catch(e){return""}return{print:"print",edit:"preview",settings:"preview"}[e[4].replace(/\?.+$/,"")]||"site"},escapeHtml:function(e){return(e=e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},digestUID:function(e){return CryptoJS.SHA256(e).toString(CryptoJS.enc.Base64)},toLocaleDateStringSupportsLocales:function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}return!1},isSafari:function(){return/^((?!chrome).)*safari/i.test(navigator.userAgent)},makeXMLhttpRequest:function(e,t,a){a=a||"GET";var o=null;return t&&"body"in t&&(o="string"==typeof t.body?t.body:JSON.stringify(t.body),delete t.body),new Promise(function(i,n){var s=new XMLHttpRequest,l="";for(var r in t)t.hasOwnProperty(r)&&(l+=(""==l?"?":"&")+r+"="+t[r]);s.open(a,e+l),s.onreadystatechange=function(){if(s.readyState==XMLHttpRequest.DONE)if(s.responseText){var e=void 0;try{e=JSON.parse(s.responseText)}catch(t){e=s.responseText}i(e)}else n()},s.send(o)})},URLs:{webService:"https://script.google.com/macros/s/AKfycbwSw3QNc18KQu-y2PO07I54C4WSB2O3ZjrAxZsaTajLrsCiAmw/exec",GSITE_NEW:"https://www.google.com/url"},numToA:function(e){for(var t="",a=0,o=0;o<6&&(a=e%26,0==a?(t="Z"+t,e=e/26-1):(t=String.fromCharCode(64+a)+t,e=(e-a)/26),!(e<=0));o++);return t}};e.Message={register:function(e,t){e&&t&&(this._callBacks[e]=t,this._eventStorageRegistered||(this._eventStorageRegistered=!0,window.addEventListener("storage",this._receive,!1)))},unRegister:function(e){e&&(this._callBacks[e]&&delete this._callBacks[e],0===Object.keys(this._callBacks).length&&(window.removeEventListener("storage",this._receive,!1),this._eventStorageRegistered=!1))},broadcast:function(e,t){e&&(localStorage.setItem("AWTmessage",JSON.stringify({event:e,data:t})),localStorage.removeItem("AWTmessage"))},_receive:function(e){if("AWTmessage"==e.key&&null!==e.newValue){var t=JSON.parse(e.newValue);t.event&&this._callBacks[t.event]&&this._callBacks[t.event](t.data)}},_callBacks:{},_eventStorageRegistered:!1},e.Message._receive=e.Message._receive.bind(e.Message),e.MessagePost={_listener:function(e){if((e.origin===awesomeTable.settings.rootSite||e.origin===awesomeTable.settings.domainProtocol+awesomeTable.settings.viewDomainComplete)&&"object"===_typeof(e.data)&&e.data.AWT_action){var t=e.data.AWT_action,a=e.data.AWT_data;this._callbacks[t]&&this._callbacks[t](a)}},_callbacks:{},register:function(e,t){return!(!e||this._callbacks[e])&&(this._callbacks[e]=t,!0)},unRegister:function(e){return!(!e||!this._callbacks[e])&&(delete this._callbacks[e],!0)},addListener:function(){this._listenerAdded||(this._listenerAdded=!0,this._listenerBound||(this._listenerBound=!0,this._listener=this._listener.bind(this)),window.addEventListener("message",this._listener,!1))},removeListener:function(){this._listenerAdded&&(this._listenerAdded=!1,window.removeEventListener("message",this._listener,!1))}},window.awesomeTable=window.awesomeTable||{},awesomeTable.tools=e}(),function(){var e=window.awesomeTable&&awesomeTable.settings?awesomeTable.settings:{};e.data=e.data||{},e.id=e.id||"",e.mode=e.mode||"";var t=/https?:\/\/(?:[^\/]+)(?:\/views)?\/(?:(?:[^\/]+)\/(view|edit|settings)|(create))/.exec(document.URL);t&&"settings"==t[1]&&(e.mode="settings"),e.location=e.location?"site"==e.location?awesomeTable.tools.inGadget()?"gadget":awesomeTable.tools.inIframe()?awesomeTable.tools.inPreview()||"iframe":"site":e.location:"","preview"==e.location&&(console.log=function(){},console.group=function(){});var a=""==document.referrer?document.URL:"gadget"==awesomeTable.settings.location?awesomeTable.tools.gadgetGetParentURL():document.referrer;e.search=a.replace(/.+?(?=\?)/,""),e.search===a&&(e.search=""),e.referrer=a.split("?")[0],window.awesomeTable=window.awesomeTable||{},awesomeTable.settings=e}(),function(){var e=void 0,t=void 0,a=void 0,o=void 0,i=void 0,n=new Promise(function(e){i=e}),s={},l=void 0,r={auth:void 0},d={initCaller:function(){e=(new Date).getTime().toString()+Math.round(100*Math.random()).toString();var i=/(?:^\?|&)debug(?:&|$)/.test(awesomeTable.settings.search);(t=document.createElement("iframe")).name=e,t.src=o=awesomeTable.settings.rootSite+"/lib/query/"+(i?"?debug":""),window.addEventListener("message",this._listener.bind(this),!1),document.querySelector("#authScreen>div.iframeContainer").appendChild(t),a=t.contentWindow},isAuth:function(){return r.auth},manualLogin:function(){return new Promise(function(e,t){s={resolve:e,reject:t}})},setShowLogin:function(e){l=e},newRequest:function(e,t){var a=new d._Request(e,t);return a._sendRequest(),a},_postMessage:function(t){a&&(t.ref=e,a.postMessage(t,"*"))},_listener:function(t){if(t.origin==awesomeTable.settings.rootSite&&"object"==_typeof(t.data)&&"ref"in t.data&&t.data.ref===e)if(t.data._id&&t.data._id in this.__msg){var a=this.__msg[t.data._id];a._cb?a._cb(t.data._fail?{error:!0}:t.data._res):(t.data._fail?a.rej():a.res(t.data._res),this._msgRemove(t.data._id))}else"object"===_typeof(t.data)&&"loaded"in t.data?i():!0===t.data.manualLogin?t.data.isAuth?s.resolve():s.reject():!0===t.data.showLogin&&l()},_msgPost:function(e,t,a){var o=this;return n.then(function(){if(a){var i={msg:e,data:t,_id:++o.__msgId};return o.__msg[i._id]={_cb:a},d._postMessage(i),i._id}return new Promise(function(a,i){var n={msg:e,data:t,_id:++o.__msgId};o.__msg[n._id]={res:a,rej:i},d._postMessage(n)})})},_msgRemove:function(e){delete this.__msg[e]},__msgId:0,__msg:{},isBlackListed:function(e){return d._msgPost("blackListed?",e)},isRedListed:function(e){return d._msgPost("redListed?",e)},hasNoEmail:function(e){return d._msgPost("noEmail?",e)}};d._Request=function(e,t){this.id=d._Request._count++,this.reqParam=e,this.useCallback=!1,this.callback=t,this.response=null,this._onResponse=this._onResponse.bind(this)},d._Request._count=0,d._Request.prototype._sendRequest=function(e){this._msgId&&d._msgRemove(this._msgId);var t={urls:{data:this.reqParam.dataUrl,template:this.reqParam.templateUrl},options:this.reqParam.dataQuery||"",useCache:this.reqParam.useCache,dataSource:this.reqParam.dataSource,forceUpdate:e||!1};this.reqParam.token&&(t.token=this.reqParam.token),this._msgId=d._msgPost("getData?",t,this._onResponse)},d._Request.prototype._onResponse=function(e){"object"===(void 0===e?"undefined":_typeof(e))&&(e.content||e.error)||(e={error:d._Request.ERROR.LOADING_ERROR}),r.auth=e.isAuth,!0===e.error&&(e.error=d._Request.ERROR.LOADING_ERROR),this.response=e,this.useCallback&&this.callback(this.response)},d._Request.prototype.acceptData=function(){this.useCallback=!0,this.response&&this.callback(this.response)},d._Request.ERROR={LOADING_ERROR:"LOADING_ERROR"},window.awesomeTable=window.awesomeTable||{},awesomeTable.query=d}(),function(){var e={report:function(){awesomeTable.tools.makeXMLhttpRequest("https://"+awesomeTable.settings.rootDomain+".firebaseio.com/queue/viewDisplay.json",{body:{viewId:awesomeTable.settings.id,date:{".sv":"timestamp"},referrer:awesomeTable.settings.referrer}},"POST")},displayFatalError:function(){awesomeTable.query.initCaller(),awesomeTable.query.isBlackListed(awesomeTable.settings.id).catch(function(){return!1}).then(function(e){e&&awesomeTable.settings.id?(document.body.innerHTML='<div class="endOfUsage">\t<div>\t<h2>You can no longer use Awesome Table</h2>\t<div class="endOfUsage-text">\t\tWe failed to reach an agreement with your company.\t\tIf this view is important to you, please reach out to your IT team for replacements.\t</div>\t</div></div>',callGa("blackListed")):(document.body.innerHTML='<div style="text-align:center; width:100%">\t<div>This Awesome Table view does not exist, was deleted, or contains incorrect settings</div></div>',callGa("unusable"))})},displayNoUrlError:function(){document.body.style.backgroundColor=awesomeTable.settings.data.backgroundColor||"transparent",document.body.innerHTML='<div style="text-align:center; width:100%">\n\tYou did not selected a valid Google Sheet URL. Make sure to input a valid Google Sheet url, or pick a spreadsheet in the view\'s settings.\n</div>'},displayWarning:function(){awesomeTable.query.hasNoEmail(awesomeTable.settings.id).then(function(e){if(!e)return awesomeTable.query.isRedListed(awesomeTable.settings.id);var t=document.getElementById("errorMsg");return t.innerHTML='<a class="warning-migration warning-link" href="https://awesome-table.com/" target="_blank">  <img src="https://lh3.googleusercontent.com/-cLX0P2meoEI/VbpAQYUhfEI/AAAAAAAAAfI/OCeHS0NRg-Q/s400/ic_warning_white_24dp_2x.png">  <div class="warning-msg">Google Site Owners/Editors : Due to maintenance, please log-in to the Awesome Table app.</div>  <div class="warning-migration-close">X</div></a>',t.querySelector(".warning-migration.warning-link").href=awesomeTable.settings.rootSite+"/",t.querySelector(".warning-migration-close").addEventListener("click",function(){t.innerHTML=""}),!1}).then(function(e){e&&document.body.insertAdjacentHTML("afterBegin",'<div class="warning-quota">\t<div class="warning-migration">\t\t<img src="https://sites.google.com/a/revevol.eu/images-base/ic_info_white_24dp_2x.png">\t\t<div>\t\t\tYour domain has exceeded the usage level allowed for the free version of AwesomeTable.<br>\t\t\tThis view will soon be permanently disabled. If you are the owner of this view,\t\t\tplease <a href="https://mail.google.com/mail/u/0/?view=cm&ui=2&tf=0&fs=1&to=support@awesome-table.com&su=[Awesome Table enterprise plan]" target="_blank">contact the AwesomeTable team</a> or your corporate tech support team to activate a license compatible with your usage level.\t\t</div>\t</div></div>')})},displayLoadingError:function(e){if(!this._loadingErrorDisplayed){this._loadingErrorDisplayed=!0,awesomeTable.codeTools.loader.stop(),awesomeTable.codeTools.loader.hide(!0,500);var t=document.getElementById("dashboard"),a=document.getElementById("errorMsg");a.classList.add("loading-failed");var o={INVALID_QUERY:'<div>The view\'s query is invalid, please check the view\'s settings</div>\n<div>Find here some help on <a href="https://support.awesome-table.com/hc/en-us/articles/115001152945" target="_blank">how to set-up a query</a></div>',INVALID_RANGE:'<div>The view\'s <b>data range</b> or <b>template range</b> is invalid, please check the view\'s settings</div>\n<div>Find here some help on <a href="https://support.awesome-table.com/hc/en-us/articles/115004071865--Part-2-Quick-tour-of-the-Web-app#4" target="_blank">how to set-up the data range</a></div>\n<div>and here on <a href="https://support.awesome-table.com/hc/en-us/articles/115001091745-Create-an-HTML-template-#3" target="_blank">how to set-up the template range</a></div>',REQUEST_TIMEOUT:"<div>The data request has TIMED-OUT</div>\n<div>Please check your internet connection</div>"};a.innerHTML=e in o?'<div style="text-align:center; width:100%">'+o[e]+"</div>":_self.template["at-template-loadError"].innerHTML,a.style.display="",t.innerHTML="",t.style.display="none"}},displayNoDataDisplay:function(e){var t=document.getElementById("dashboard"),a=document.getElementById("errorMsg");a.innerHTML=e?'<div style="text-align:center; width:100%">'+e+"</div>":'<div style="text-align:center; width:100%">No data to display.</div>',t.style.display="none",a.style.display="inline",awesomeTable.codeTools.loader.stop(),awesomeTable.codeTools.loader.hide(!0,500)},_loadingErrorDisplayed:!1,loadLibrary:function(e){var t=document.createElement("script");t.type="text/javascript";var a=/{{callback}}/.test(e)?"___libCB___"+(new Date).getTime():"",o=new Promise(function(o,i){a?(e=e.replace("{{callback}}",a),window[a]=o):t.onload=o,t.onerror=i});return t.src=e,document.head.appendChild(t),o.then(function(e){return a&&delete window[a],e}).catch(function(e){throw a&&delete window[a],e})},_arrayShuffle:function(e){var t=void 0,a=void 0,o=e.length;if(o)for(;--o;)t=e[a=Math.floor(Math.random()*(o+1))],e[a]=e[o],e[o]=t;return e},setupVisibilityToggle:function(){for(var e=document.querySelectorAll('[data-toggle-visibility="controller"]'),t=0;t<e.length;t++)e[t].onclick=function(){var e=this.parentNode.querySelector('[data-toggle-visibility="target"]');e.classList.toggle("show"),e.classList.toggle("hide"),e.classList.contains("show")?this.setAttribute("data-toggle-state","show"):this.setAttribute("data-toggle-state","hide")},e[t].setAttribute("data-toggle-state","hide");for(var a=document.querySelectorAll('[data-toggle-visibility="target"]'),o=0;o<a.length;o++)a[o].classList.add("hide")},loader:{start:function(e){this._loaderDom||(this._loaderDom=document.getElementById("loader"));var t=(e=e||45e3)/5,a=(new Date).getTime();this._interval=setInterval(function(){var e=100*(1-Math.exp(-((new Date).getTime()-a)/t));this._loaderDom.style.width=e+"%",e>99&&clearInterval(this._interval)}.bind(this),e/100)},stop:function(){this._loaderDom||(this._loaderDom=document.getElementById("loader")),clearInterval(this._interval),this._loaderDom.style.width="100%"},hide:function(e,t){var a=this;this._loaderDom||(this._loaderDom=document.getElementById("loader")),t?setTimeout(function(){return a._loaderDom.style.display=e?"none":""},t):this._loaderDom.style.display=e?"none":""},_loaderDom:void 0,_interval:void 0}};e.Counter={_dom:{},isShown:!0,show:function(e){e?(_self.dom.dyn.chartPanel.insertBefore(_self.dom.dyn.countTop,_self.dom.dyn.chartPanel.firstChild),_self.dom.dyn.chartPanel.appendChild(_self.dom.dyn.countBottom)):(_self.dom.dyn.chartPanel.removeChild(_self.dom.dyn.countTop),_self.dom.dyn.chartPanel.removeChild(_self.dom.dyn.countBottom)),this.isShown=e},update:function(e,t,a){var o=void 0===t||void 0===a,i=o?"<b>"+e+"</b>":"<b>"+t+"</b> - <b>"+a+"</b> / <b>"+e+"</b>";this._dom.nbFilteredDataTop.innerHTML=i,this._dom.nbFilteredDataBot.innerHTML=i,o?(this._dom.iconNbDataTop.style.display="",this._dom.countBot.style.borderBottom="none",this._dom.countBot.style.height="0"):(this._dom.iconNbDataTop.style.display="none",this._dom.countBot.style.borderBottom="",this._dom.countBot.style.height="")},addAction:function(e,t){var a=document.createElement("div");return a.innerHTML=e,a.classList.add("at-counter-action"),this._dom.paginationTop.appendChild(a),a.addEventListener("click",t),a}},e.FrameHeight={_sensor:void 0,_height:{},_timeout:void 0,TIMEOUT:50,notNewGSite:!0,addSizeSensor:function(){this._sensor||("https://www.google.com/url"===awesomeTable.settings.referrer&&(this.notNewGSite=!1,this.TIMEOUT=20),this._domHTML=document.querySelector("html"),this._sensor=new ResizeSensor(document.body,this._onResize.bind(this)))},_askParentFrameToResize:function(e){window.parent.postMessage({AWTheight:e,ref:window.name,magic:"SHIC",type:"resize",height:e>5e3?5e3:e},"*")},_onResize:function(){var e=this;this._height.current=document.body.clientHeight;var t=this._domHTML.clientHeight;this._height.prev!==this._height.current&&(this._domHTML.style.overflow=this._height.prev!==t&&this.notNewGSite?"":"hidden",clearTimeout(this._timeout),this._timeout=setTimeout(function(){e._askParentFrameToResize(document.body.clientHeight)},this.TIMEOUT)),this._height.prev=this._height.current;var a=document.body.getBoundingClientRect(),o=void 0;"function"!=typeof CustomEvent?(o=document.createEvent("CustomEvent")).initCustomEvent("at-body-resize",!0,!0,{detail:a}):o=new CustomEvent("at-body-resize",{detail:a}),document.dispatchEvent(o)}},"gadget"==awesomeTable.settings.location&&"edit"!=awesomeTable.settings.mode&&(window.open=function(e,t,a){window.parent.postMessage({ref:window.name,url:e,windowName:t,windowFeatures:a},"*")}),e.Print={doPrint:function(){var e=this;awesomeTable.codeTools.loader.hide(!0,0),awesomeTable.tools.Message.register(this.event.VIEW,this._printFrameCallback.bind(this)),awesomeTable.tools.Message.broadcast(this.event.PRINT,{action:this.event.PRINT_GETSTATE,id:awesomeTable.settings.id}),this._initialSettingsRequestTimeOut=setTimeout(function(){e._printFrameCallback({action:e.event.PRINT_UI_HIDE,id:awesomeTable.settings.id})},1500)},_printFrameCallback:function(t){if(t.id===awesomeTable.settings.id)switch(t.action){case this.event.PRINT_SETSTATE:clearTimeout(this._initialSettingsRequestTimeOut),_self.ViewAT.setState(t.viewState).then(function(){e.Print._addPrintCSS(),google.visualization.events.trigger(_self.controls.filters[0].control,"ready",{})});break;case this.event.PRINT_IMMEDIATE:this._openPrintDialog();break;case this.event.PRINT_ASK_CLOSE:this._askforClose();break;case this.event.PRINT_UI_HIDE:this._addPrintCSS(),google&&google.visualization&&google.visualization.events&&_self.controls&&_self.controls.filters&&_self.controls.filters[0]&&google.visualization.events.trigger(_self.controls.filters[0].control,"ready",{});break;case this.event.PRINT_UI_SHOW:this._removePrintCSS(),google.visualization.events.trigger(_self.controls.filters[0].control,"ready",{})}},_openPrintDialog:function(){window.print(),this._askforClose()},_askforClose:function(){awesomeTable.tools.Message.broadcast(this.event.PRINT,{action:this.event.PRINT_CLOSE,id:awesomeTable.settings.id}),window.parent&&window.parent.postMessage({AWT_action:"print",AWT_data:{id:awesomeTable.settings.id,action:this.event.PRINT_CLOSE}},"*")},_addPrintCSS:function(){document.querySelector("html").classList.add("print")},_removePrintCSS:function(){document.querySelector("html").classList.remove("print")},openPrint:function(){"print"!==awesomeTable.settings.location?(awesomeTable.tools.Message.register(this.event.PRINT,this._viewFrameCallback.bind(this)),this._printWindow=window.open(awesomeTable.settings.rootSite+"/"+awesomeTable.settings.id+"/print","_blank")):window.print()},_viewFrameCallback:function(e){if(e.id===awesomeTable.settings.id)switch(e.action){case this.event.PRINT_GETSTATE:var t=_self.ViewAT.getState();awesomeTable.tools.Message.broadcast(this.event.VIEW,{action:this.event.PRINT_SETSTATE,id:awesomeTable.settings.id,viewState:t});break;case this.event.PRINT_CLOSE:this._printWindow&&this._printWindow.close(),this._printWindow=null,awesomeTable.tools.Message.unRegister(this.event.PRINT)}},_printWindow:null,event:{PRINT:"AT_print_frame",VIEW:"AT_view_frame",PRINT_IMMEDIATE:"print_immediate",PRINT_CLOSE:"print_close",PRINT_ASK_CLOSE:"print_ask_close",PRINT_UI_HIDE:"print_hideUI",PRINT_UI_SHOW:"print_showUI",PRINT_GETSTATE:"print_getstate",PRINT_SETSTATE:"print_setstate"}},e.Print.openPrint=e.Print.openPrint.bind(e.Print),"print"===awesomeTable.settings.location&&awesomeTable.tools.MessagePost.register("print",e.Print._printFrameCallback.bind(e.Print)),awesomeTable.tools.MessagePost.addListener(),window.awesomeTable=window.awesomeTable||{},awesomeTable.codeTools=e,window.adjustHeight=function(){}}(),function(){var e={getSettings:function(e,t){return awesomeTable.settings.data[(t?"":_self.vizType+"_")+e]||""},SVG:{"keyboard-arrow-left":'<div class="at-pagination-button"><svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/></g></svg></div>',"keyboard-arrow-right":'<div class="at-pagination-button"><svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/></g></svg></div>'}},t=function(){this._columns={}};t.prototype.registerKeywords=function(e){var t=this,a={cardscolor:{priority:3,action:function(e){t._columns.columnColor=e.columnIndex}},cardscontent:{priority:3,action:function(e){t._columns.columnContent=e.columnIndex}}};for(var o in a)e[o]=a[o]},t.prototype.initWrapper=function(e){var t=this;(e.numberOfColumns<1||e.numberOfColumns>100)&&(e.numberOfColumns="none"),""==e.numberOfRows&&(e.numberOfRows=parseInt((awesomeTable.settings.data.pageSize||12)/e.numberOfColumns)),isNaN(e.numberOfRows)&&(e.numberOfRows="none");var a=[this._columns.columnContent||columnsToDisplay[0]];return"columnColor"in this._columns&&a.push(this._columns.columnColor),this.wrapper=new google.visualization.ChartWrapper({chartType:"awesomeTable.visualization.Cards",container:_self.dom.dyn.chart,options:e,view:{columns:a}}),google.visualization.events.addListener(this.wrapper,"ready",function(){t._chart=t.wrapper.getChart()}),this.wrapper},t.prototype.getWrappers=function(){return this.wrapper},t.prototype.onReady=function(){},t._require=["/lib/charts/card/chartCard.js"];var a=function(){this.columns={}};a.prototype.registerKeywords=function(e){var t=this,a={mapslat:{priority:3,action:function(e){t.columns.lat=e.columnIndex}},mapslong:{priority:3,action:function(e){t.columns.lng=e.columnIndex}},mapstooltip:{priority:3,action:function(e){t.columns.toolTip=e.columnIndex}}};for(var o in a)e[o]=a[o]},a.prototype.initWrapper=function(e){var t={height:(awesomeTable.settings.data.mapHeight||"").replace(/["']/g," ")||"500px",columns:{lat:0,lng:1}};this.columns.lat&&this.columns.lng||(this.columns.lat=0,this.columns.lng=1,_self.tables.data&&_self.tables.data.getNumberOfColumns()>2&&!this.columns.toolTip&&(this.columns.toolTip=2));var a=[this.columns.lat,this.columns.lng];return"toolTip"in this.columns&&(a.push(this.columns.toolTip),t.columns.tooltip=2),this.wrapper=new google.visualization.ChartWrapper({chartType:"awesomeTable.visualization.Maps",container:e&&e.container||_self.dom.dyn.chartPanel,options:t,view:{columns:a}}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){this.chart=this.wrapper.getChart()}.bind(this)),this.wrapper},a.prototype.getWrappers=function(){return this.wrapper},a.prototype.onReady=function(){},a._require=["/lib/markerClusterer/markerClusterer.js","https://maps.googleapis.com/maps/api/js?key=AIzaSyBPUXgscOP1VyMgpZWPWR1xCHnKIn4_9fQ&v=3.exp&callback={{callback}}","/lib/charts/maps/chartMaps.js"];var o=function(){this.columns={}};o.prototype.registerKeywords=function(e){var t=this,a={slideimage:{priority:3,action:function(e){t.columns.image=e.columnIndex,awesomeTable._Keywords.afterProcessActions.push({action:"template",param:e,template:this.templateFunction.bind(this),columnIndex:e.columnIndex,useFormatted:!0})},templateFunction:function(e,t,a){var o=_self.tables.data.getFormattedValue(e,t),i=this.isDriveFileIdRegex.exec(o);return i&&(o="https://drive.google.com/thumbnail?id="+i[1]+"&sz=w720-h720"),o},isDriveFileIdRegex:/^https:\/\/drive\.google\.com\/open\?id=([^&?\/]+)/},slidelink:{priority:3,action:function(e){t.columns.link=e.columnIndex}},slidetitle:{priority:3,action:function(e){t.columns.title=e.columnIndex}},slidetext:{priority:3,action:function(e){t.columns.text=e.columnIndex}},slidecontent:{priority:3,action:function(e){t.columns.content=e.columnIndex}}};for(var o in a)e[o]=a[o]},o.prototype.initWrapper=function(t){for(var a=this,o={height:(e.getSettings("height")||"").replace(/["']/g," ")||"500px",duration:1e3*+e.getSettings("duration")||7500,captionColor:e.getSettings("captionColor"),backColor:e.getSettings("backColor"),columns:{}},i=["image","title","text","link","content"],n=[],s=0;s<i.length;s++)i[s]in this.columns&&(o.columns[i[s]]=n.length,n.push(this.columns[i[s]]));return this.wrapper=new google.visualization.ChartWrapper({chartType:"awesomeTable.visualization.SlideShow",container:_self.dom.dyn.chart,options:o,view:{columns:n}}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){a.chart=a.wrapper.getChart()}),this.wrapper},o.prototype.getWrappers=function(){return this.wrapper},o.prototype.onReady=function(){},o._require=["/lib/charts/slideShow/slideShow.js","/lib/ResizeSensor.js"];var i=function(){};i.prototype.initWrapper=function(e){return awesomeTable.codeTools.Counter.show(!0),e.selectedRows&&e.selectedRows.length&&(e.startPage=parseInt(e.selectedRows[0]/e.pageSize)),this._page={startPage:e.startPage||0,pageSize:e.pageSize,top:document.getElementById("pagination"),bot:document.getElementById("paginationBottom")},this.wrapper=new google.visualization.ChartWrapper({chartType:"Table",container:_self.dom.dyn.chart,options:{allowHtml:!0,page:"enable",pageSize:e.pageSize,startPage:e.startPage,width:"100%"},view:{columns:e.columns}}),this.tableDom=_self.dom.dyn.chart,google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){this.chart=this.wrapper.getChart(),this._chartSetSelection=this.chart.setSelection,this.chart.setSelection=this._customSetSelection.bind(this),google.visualization.events.addListener(this.chart,"sort",this._onChartSort.bind(this)),google.visualization.events.addListener(this.chart,"ready",this._initPagination.bind(this)),this._initPagination()}.bind(this)),this.wrapper},i.prototype.getWrappers=function(){return this.wrapper},i.prototype.onReady=function(){if(this._redraw)return _self.sidebar.useSidebar&&!this._keepSelection&&this._selectFirstItemInPage(),this._redraw=!1,!1;this._onPagination(this._page.startPage)},i.prototype.onPostFirstReady=function(){var e=document.getElementsByClassName("google-visualization-table-tr-sel");if(e.length){var t=e[0].querySelector('[data-toggle-visibility="target"]'),a=e[0].querySelector('[data-toggle-visibility="controller"]');a&&a.setAttribute("data-toggle-state","show"),t&&(t.classList.remove("hide"),t.classList.add("show"),e[0].scrollIntoView(!0),setTimeout(function(){e[0].getBoundingClientRect(),e[0].scrollIntoView()},500))}},i.prototype.isInTable=function(e){return this.tableDom.contains(e)},i.prototype.getState=function(){return{options:this.wrapper.getOptions(),selection:this.chart.getSelection()}},i.prototype.setState=function(e){e.options=e.options||{},this.wrapper.setOptions(e.options),this._page.startPage=e.options.startPage||0},i.prototype.setStatePostReady=function(e){e.selection&&(this.chart.setSelection(e.selection),google.visualization.events.trigger(this.wrapper,"select",{}))},i._requireGviz=["table"],i.prototype._initPagination=function(){var t=this.chart.getContainer().querySelector(".google-visualization-table-div-page");this._page.top.innerHTML="",this._page.bot.innerHTML="",t.querySelector(".goog-custom-button-collapse-left").innerHTML=e.SVG["keyboard-arrow-right"],t.querySelector(".goog-custom-button-collapse-right").innerHTML=e.SVG["keyboard-arrow-left"],this._page.top.appendChild(t.cloneNode(!0)),this._page.bot.appendChild(t.cloneNode(!0)),this._page.top.querySelector(".goog-custom-button-collapse-right").addEventListener("click",this._onPagePrev.bind(this)),this._page.bot.querySelector(".goog-custom-button-collapse-right").addEventListener("click",this._onPagePrev.bind(this)),this._page.top.querySelector(".goog-custom-button-collapse-left").addEventListener("click",this._onPageNext.bind(this)),this._page.bot.querySelector(".goog-custom-button-collapse-left").addEventListener("click",this._onPageNext.bind(this));var a=this._page.top.querySelector(".google-visualization-table-page-numbers");a&&(a.addEventListener("click",this._onPageNumber.bind(this)),this._page.bot.querySelector(".google-visualization-table-page-numbers").addEventListener("click",this._onPageNumber.bind(this)))},i.prototype._updateCounter=function(){var e=this.wrapper.getDataTable().getNumberOfRows(),t=this._page.startPage*this._page.pageSize+1,a=(this._page.startPage+1)*this._page.pageSize;a>e&&(a=e),t>e&&(this._page.startPage=Math.ceil(e/this._page.pageSize)-1||0,this._page.startPage<0&&(this._page.startPage=0),(t=this._page.startPage*this._page.pageSize+1)>e&&(t=e)),awesomeTable.codeTools.Counter.update(e,t,a)},i.prototype._onPagePrev=function(){this._onPagination(this._page.startPage-1)},i.prototype._onPageNext=function(){this._onPagination(this._page.startPage+1)},i.prototype._onPageNumber=function(e){this._onPagination(parseInt(e.target.innerHTML)-1||0)},i.prototype._onPagination=function(e){var t=this.chart.getSortInfo(),a=this.wrapper.getDataTable().getNumberOfRows(),o=parseInt(a/this._page.pageSize);e>o&&(e=o),e<0&&(e=0),this._page.startPage=e,this._updateCounter(),this.wrapper.setOption("startPage",this._page.startPage),this.wrapper.setOption("sortColumn",t.column),this.wrapper.setOption("sortAscending",t.ascending);var i=this.chart.getSelection();this._redraw=!0,this.wrapper.draw(),this._keepSelection&&this.chart.setSelection(i),this._keepSelection=!1,google.visualization.events.trigger(this.wrapper,"page",this._page.startPage)},i.prototype._onChartSort=function(){var e=this.chart.getSortInfo();this.wrapper.setOption("sortColumn",e.column),this.wrapper.setOption("sortAscending",e.ascending),this._updateCounter(),this._initPagination(),this._redraw=!0,this.wrapper.draw()},i.prototype._selectFirstItemInPage=function(){var e=this.chart.getSortInfo().sortedIndexes,t=this._page.startPage*this._page.pageSize;(this.chart.getSelection()||[]).length||0==this.wrapper.getDataTable().getNumberOfRows()||(this.chart.setSelection([{row:e?e[t]:t,column:null}]),google.visualization.events.trigger(this.wrapper,"select",{}))},i.prototype._customSetSelection=function(e){this._chartSetSelection.apply(this.chart,arguments),this._useCustomSelection&&(this._useCustomSelection=!1,e&&e.length&&(this._keepSelection=!0,this._onPagination(parseInt(e[0].row/this._page.pageSize))))};var n=function(){this._tableView=new i,this._mapsView=new a,this._mapsSelect=!1};n.prototype.registerKeywords=function(e){this._mapsView.registerKeywords(e)},n.prototype.initWrapper=function(e){return awesomeTable.codeTools.Counter.show(!0),this._tableView.initWrapper(e),this._mapsView.initWrapper({container:_self.dom.dyn.mapPanel}),google.visualization.events.addOneTimeListener(this._tableView.wrapper,"ready",function(){this.tableDom=this._tableView.tableDom}.bind(this)),google.visualization.events.addListener(this._mapsView.wrapper,"select",function(){var e=this._mapsView.chart.getSelection();e&&e.length&&(this._tableView._useCustomSelection=!0,this._tableView.chart.setSelection(e),this._mapsSelect=!0,google.visualization.events.trigger(this._tableView.wrapper,"select",{}))}.bind(this)),google.visualization.events.addListener(this._tableView.wrapper,"select",function(){if(this._mapsSelect)this._mapsSelect=!1;else{var e=this._tableView.chart.getSelection();e&&e.length&&this._mapsView.chart.setSelection(e)}}.bind(this)),this._tableView.getWrappers()},n.prototype.getWrappers=function(){return[this._tableView.getWrappers(),this._mapsView.getWrappers()]},n.prototype.onReady=function(){this._tableView.onReady(),this._mapsView.onReady()},n.prototype.onPostFirstReady=function(){this._tableView.onPostFirstReady()},n.prototype.isInTable=function(e){return this.tableDom.contains(e)},n._requireGviz=[].concat(i._requireGviz||[],a._requireGviz||[]),n._require=[].concat(i._require||[],a._require||[]);var s=function(){};s.prototype.registerKeywords=function(e){var t=awesomeTable.visualization.BI.ColumnType;[{key:"bipie",type:t.Pie},{key:"bitopresults",type:t.TopResults},{key:"biwordcloud",type:t.WordCloud},{key:"bicolumnchart",type:t.ColumnChart},{key:"biaggregate",type:t.Sum}].forEach(function(t){e[t.key]={priority:3,action:function(e){_self.tables.data.setColumnProperty(e.columnIndex,"BI_type",t.type)}}})},s.prototype.initWrapper=function(e){return awesomeTable.codeTools.Counter.show(!0),this.wrapper=new google.visualization.ChartWrapper({chartType:"awesomeTable.visualization.BI",container:_self.dom.dyn.chart,view:{columns:e.columns}}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){this._chart=this.wrapper.getChart()}.bind(this)),this.wrapper},s.prototype.getWrappers=function(){return this.wrapper},s.prototype.onReady=function(){awesomeTable.codeTools.Counter.update(this.wrapper.getDataTable().getNumberOfRows())},s._requireGviz=["table","corechart"],s._require=["/lib/ResizeSensor.js","/lib/charts/wordCloud/lib/wordCloud2.js","/lib/charts/wordCloud/chartWordCloud.js","/lib/charts/bi/chartBI.js"];var l=function(){};l.prototype.initWrapper=function(e){var t=this,a=e.initialHeight-150,o={height:a<200?800:a,timeline:{colorByRowLabel:!0,groupByRowLabel:e.groupByRowLabel||!1}};return this.wrapper=new google.visualization.ChartWrapper({chartType:"Timeline",container:_self.dom.dyn.chart,options:o,view:{columns:e.columns}}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){t.chart=t.wrapper.getChart()}),this.wrapper},l.prototype.getWrappers=function(){return this.wrapper},l.prototype.onReady=function(){if(this.chart){var e=this.chart.getContainer().getElementsByTagName("svg");if(e&&1==e.length){var t=e[0],a=t.getBBox();t.removeAttribute("width"),t.removeAttribute("height"),t.setAttribute("viewBox","0 0 "+a.width+" "+a.height)}}},l._requireGviz=["timeline"];var r=function(){};r.prototype.initWrapper=function(t){var a=this,o={markerTooltip:3,markerColors:1};5==t.columns.length&&(o={markerTooltip:4,markerColors:2}),o.newMarkerToolTip=_self.tables.data.addColumn("string"),_self.tables.data.setColumnProperty(o.newMarkerToolTip,"html",!0),_self.tables.data.setColumnProperty(o.newMarkerToolTip,"role","tooltip");for(var i=_self.tables.data.getDistinctValues(t.columns[o.markerColors]),n=[],s=0;s<i.length;s++)n.push(s);var l=_self.tables.data.getNumberOfRows();o.newMarkerValues=_self.tables.data.addColumn("number");for(var r=0;r<l;r++)_self.tables.data.setValue(r,o.newMarkerValues,i.indexOf(_self.tables.data.getValue(r,t.columns[o.markerColors]))),_self.tables.data.setValue(r,o.newMarkerToolTip,_self.tables.data.getFormattedValue(r,t.columns[o.markerTooltip]));t.columns[o.markerColors]=o.newMarkerValues,t.columns[o.markerTooltip]=o.newMarkerToolTip,this._mapsRegion=e.getSettings("mapRegion",!0)||"world",this._mapHeight=e.getSettings("mapHeight",!0)||"500px";var d={legend:"none",region:this._mapsRegion,enableRegionInteractivity:!0,colorAxis:{colors:i,values:n},tooltip:{isHtml:!0,trigger:"selection"}};return _self.dom.dyn.chart.style.height=this._mapHeight,awesomeTable.codeTools.Counter.show(!0),this._domBack=awesomeTable.codeTools.Counter.addAction(_self.template["at-template-iconZoomOut"].innerHTML,this._resetRegion.bind(this)),this._domBack.style.display="none",this.wrapper=new google.visualization.ChartWrapper({chartType:"GeoChart",container:_self.dom.dyn.chart,options:d,view:{columns:t.columns}}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){a.chart=a.wrapper.getChart(),google.visualization.events.addListener(a.chart,"regionClick",function(e){a.wrapper.setOption("region",e.region),a.wrapper.draw(),a._domBack.style.display=""})}),this.wrapper},r.prototype.getWrappers=function(){return this.wrapper},r.prototype.onReady=function(){awesomeTable.codeTools.Counter.update(this.wrapper.getDataTable().getNumberOfRows())},r.prototype._resetRegion=function(){this.wrapper.setOption("region",this._mapsRegion),this.wrapper.draw(),this._domBack.style.display="none"},window.awesomeTable=window.awesomeTable||{},awesomeTable.view=e,awesomeTable.view.Cards=t,awesomeTable.view.Maps=a,awesomeTable.view.SlideShow=o,awesomeTable.view.Table=i,awesomeTable.view.MapsWithTable=n,awesomeTable.view.BI=s,awesomeTable.view.Gantt=l,awesomeTable.view.Geochart=r}(),function(){var e={dataIdMap:{},afterProcessActions:[],templateIndex:{},addTemplate:function(t,a,o){for(var i=/{{(customClass|self|p(\d+)|r(\d+))}}/g,n=void 0,s=void 0,l=void 0;null!==(n=i.exec(t));)s=n[2]&&(l=a.filter.param[n[2]])&&l in e.dataIdMap?"{{"+_self.tables.data.getColumnLabel(e.dataIdMap[l]._index)+"}}":"customClass"==n[1]?e.generateCustomClass(a.columnLabel):n[3]?a.filter.param[n[3]]:"{{"+a.columnLabel+"}}",t=t.replace(new RegExp("{{"+n[1]+"}}","g"),s);e.templateIndex["_autoTemplates_"+Object.keys(e.templateIndex).length+"_"]={template:t,pos:a.columnIndex,useFormatted:o||!1,param:a}},type:{nofilter:{priority:1},hidden:{priority:2,action:function(){columnsToDisplay.pop()}},sidebar:{priority:3,action:function(e){_self.sidebar.useSidebar=!0,_self.sidebar.columnIndex=e.columnIndex,_self.sidebar.dom=_self.dom.dyn.sidebar}},csvdata:{priority:3,action:function(e){_self.tables.data.setColumnProperty(e.columnIndex,"isCSV",!0)}},hyperlinktype:{priority:2,param:!0,action:function(t){if(t.filter.param){var a=t.filter.param[0];a in e.dataIdMap&&(e.afterProcessActions.push({action:"hidden",columnIndex:e.dataIdMap[a]._index}),e.afterProcessActions.push({action:"template",param:t,template:this.template,columnIndex:t.columnIndex,useFormatted:!!e.dataIdMap[t.columnA1Name].icontype||!!e.dataIdMap[t.columnA1Name].imagetype}))}},template:'<a class="awt-links {{customClass}}" target="_blank" href="{{p0}}">{{self}}</a>'},imagetype:{priority:4,action:function(t){e.afterProcessActions.push({action:"template",param:t,template:this.templateFunction.bind(this),columnIndex:t.columnIndex,useFormatted:!0})},templateFunction:function(e,t,a){var o=_self.tables.data.getFormattedValue(e,t),i=this.isDriveFileIdRegex.exec(o);return i&&(o="https://drive.google.com/thumbnail?id="+i[1]+"&sz=w400-h400"),'<div onmouseenter="awt_showPopUp(this)" onmouseleave="awt_hidePopUp(this)" class="awt-imgContainer '+a.customClass+'">\n\t<div style="background:url('+o+')" class="awt-imgParameter"></div>\n\t<div class="awt-popup">\n\t\t<img src="'+o+'" />\n\t</div>\n</div>'},isDriveFileIdRegex:/^https:\/\/drive\.google\.com\/open\?id=([^&?\/]+)/},icontype:{priority:3,param:!0,action:function(t){if(t.customClass=e.generateCustomClass(t.columnLabel),!e.dataIdMap[t.columnA1Name].imagetype)if(t.filter.param){var a=t.filter.param[0];a in e.dataIdMap&&(t.filter.param[1]=!0,e.afterProcessActions.push({action:"hidden",columnIndex:e.dataIdMap[a]._index})),e.afterProcessActions.push({action:"template",param:t,template:this.templateWithParam,columnIndex:t.columnIndex,useFormatted:!0})}else e.afterProcessActions.push({action:"template",param:t,template:this.templateNoParam,columnIndex:t.columnIndex,useFormatted:this.formattedToValue})},templateNoParam:function(e,t,a){for(var o=_self.tables.data.getFormattedValue(e,t).split(","),i=0;i<o.length;i++)o[i]='<i class="awt-icon-alone material-icons" class="material-icons">'+o[i].trim()+"</i>";return'<div class="'+a.customClass+'">'+o.join(" ")+"</div>"},templateWithParam:function(t,a,o){var i=void 0;return i=!0===o.filter.param[1]?_self.tables.data.getFormattedValue(t,e.dataIdMap[o.filter.param[0]]._index).replace(/,/g," "):o.filter.param[0],'<p class="awt-icon-param '+o.customClass+'"><i class="material-icons">'+i+"</i>"+_self.tables.data.getFormattedValue(t,a)+"</p>"},formattedToValue:function(e){return e.replace(/<\/i>(?!$)/g,"</i>,")}},ratingtype:{priority:3,action:function(t){t.customClass=e.generateCustomClass(t.columnLabel),e.afterProcessActions.push({action:"template",param:t,template:this.template,columnIndex:t.columnIndex,useFormatted:!0})},template:function(e,t,a){var o=parseFloat(_self.tables.data.getFormattedValue(e,t)),i=o,n=[],s=void 0;if(isNaN(o))return'<p class="material-icons">&nbsp;</p>';o>5?o=5:o<0&&(o=0),o=Math.round(2*o)/2;for(var l=1;l<6;l++)s="star_border",o>0&&l<=o?s="star":o%1!=0&&(s="star_half",o=0),n.push('<i class="awt-rating-icon material-icons">'+s+"</i>");return'<div class="'+a.customClass+'" title="'+i+'">'+n.join("")+"</div>"}},buttontype:{priority:2,param:!0,action:function(t){if(t.customClass=e.generateCustomClass(t.columnLabel),!e.dataIdMap[t.columnA1Name].imagetype&&t.filter.param){var a=t.filter.param[0];if(a in e.dataIdMap){if(e.afterProcessActions.push({action:"hidden",columnIndex:e.dataIdMap[a]._index}),t.filter.param[1]){var o=t.filter.param[1].trim();o in e.dataIdMap?(t.filter.param[3]=!0,e.afterProcessActions.push({action:"hidden",columnIndex:e.dataIdMap[o]._index})):t.filter.param[2]=this.getFontColor(o)}else t.filter.param[1]="#ffc107",t.filter.param[2]="#fff";e.afterProcessActions.push({action:"template",param:t,template:this.template,columnIndex:t.columnIndex,useFormatted:!1})}}},template:function(t,a,o){var i=_self.tables.data.getFormattedValue(t,a);if(!i)return"";var n=o.filter.param,s=_self.tables.data.getFormattedValue(t,e.dataIdMap[n[0]]._index),l=n[1].trim(),r=n[2];return!0===n[3]&&(l=_self.tables.data.getFormattedValue(t,e.dataIdMap[l]._index),r=e.type.buttontype.getFontColor(l)),'<a href="'+s+'" target="_blank" style="background-color:'+l+";color:"+r+';" class="awt-button '+o.customClass+'"><div>'+i+"</div></a>"},getFontColor:function(e){this.colorElement||(this.colorElement=document.createElement("div"),this.colorElement.style.display="none",document.body.appendChild(this.colorElement)),this.colorElement.style.color=e;var t=window.getComputedStyle(this.colorElement).color.replace(/^rgb\(| |\)$/g,"").split(",");return 255-(.299*(e={R:parseInt(t[0]),G:parseInt(t[1]),B:parseInt(t[2])}).R+.587*e.G+.114*e.B)<105?"#000000":"#ffffff"}},listtype:{priority:3,param:!0,action:function(t){t.customClass=e.generateCustomClass(t.columnLabel),e.afterProcessActions.push({action:"template",param:t,template:this.template,columnIndex:t.columnIndex,useFormatted:this.formattedToValue})},template:function(t,a,o){return e.type.listtype.createList({row:t,column:a,param:o,listType:"ul"})},createList:function(t){var a=_self.tables.data.getFormattedValue(t.row,t.column).split(",");return 1==a.length&&0==a[0].length?"":(t.param.filter.param&&("desc"==t.param.filter.param[0]?a.sort(e.sortArray).reverse():"asc"==t.param.filter.param[0]&&a.sort(e.sortArray)),'<div class ="awt_list '+t.param.customClass+'"><'+t.listType+"><li>"+a.join("</li><li>")+"</li></"+t.listType+"></div>")},formattedToValue:function(e,t,a){return _self.tables.data.getValue(t,a)}},numberedlisttype:{priority:3,param:!0,action:function(t){t.customClass=e.generateCustomClass(t.columnLabel),e.afterProcessActions.push({action:"template",param:t,template:this.template,columnIndex:t.columnIndex,useFormatted:this.formattedToValue})},template:function(t,a,o){return e.type.listtype.createList({row:t,column:a,param:o,listType:"ol"})},formattedToValue:function(e,t,a){return _self.tables.data.getValue(t,a)}},numberrangefilter:{action:function(t){var a=document.createElement("div"),o="controlers"+_self.controls.filters.length,i=void 0;a.id=o,a.classList.add("controlers-filters","numberRangeFilter"),_self.dom.dyn.filtersPanel&&_self.dom.dyn.filtersPanel.appendChild(a);var n={label:t.columnLabel,labelStacking:e.viewPref.useInsideFilter?"vertical":"horizontal"};i={controlType:"awesomeTable.visualization.NumberRangeFilter",containerId:o,options:{filterColumnIndex:t.columnIndex,ui:n}},t.columnA1Name in filterSettings&&(i.state={lowValue:filterSettings[t.columnA1Name][0],highValue:filterSettings[t.columnA1Name][1]}),_self.controls.filters.push({control:new google.visualization.ControlWrapper(i),index:t.columnIndex})}},datefilter:{action:function(t){var a=document.createElement("div"),o="controlers"+_self.controls.filters.length,i=void 0;a.id=o,a.classList.add("controlers-filters","dateFilter"),_self.dom.dyn.filtersPanel&&_self.dom.dyn.filtersPanel.appendChild(a),i={controlType:"awesomeTable.visualization.DateFilter",containerId:o,options:{filterColumnIndex:t.columnIndex,ui:{label:t.columnLabel,labelStacking:e.viewPref.useInsideFilter?"vertical":"horizontal",format:{pattern:e.viewPref.dateFormat||t.columnPattern||"dd/MM/yyyy"}}}},t.columnA1Name in filterSettings&&(i.state={lowValue:filterSettings[t.columnA1Name][0],highValue:filterSettings[t.columnA1Name][1]}),_self.controls.filters.push({control:new google.visualization.ControlWrapper(i),index:t.columnIndex})}},daterangefilter:{action:function(t){t.filter.filter="datefilter",e.type.datefilter.action(t)}},stringfilter:{action:function(t){var a=document.createElement("div"),o="controlers"+_self.controls.filters.length,i=void 0;a.id=o,a.classList.add("controlers-filters","searchFilter","stringFilter"),_self.dom.dyn.filtersPanel&&_self.dom.dyn.filtersPanel.appendChild(a),i={controlType:"awesomeTable.visualization.SearchFilter",containerId:o,options:{filterColumnIndex:t.columnIndex,useFormattedValue:!0,ui:{label:t.columnLabel,caption:e.viewPref.useInsideFilter?t.columnLabel:"",labelMode:e.viewPref.useInsideFilter?awesomeTable.visualization.SearchFilter.labelMode.PLACEHOLDER:awesomeTable.visualization.SearchFilter.labelMode.VERTICAL}}},t.columnA1Name in filterSettings&&(i.state={value:filterSettings[t.columnA1Name][0]}),_self.controls.filters.push({control:new google.visualization.ControlWrapper(i),index:t.columnIndex})}},categoryfilter:{param:!0,action:function(t){e.type.csvfilter.initFilter(t,{className:"categoryFilter",parameters:{options:{filterSeparator:void 0,filterFunction:awesomeTable.visualization.csvFilter.FilterFunction["A||B"],ui:{downArrow:awesomeTable.visualization.csvFilter.DropDownIcon.add}}}})}},csvfilter:{param:!0,action:function(e){_self.tables.data.setColumnProperty(e.columnIndex,"isCSV",!0),this.initFilter(e,{className:"csvFilter",parameters:{options:{filterSeparator:",",ui:{downArrow:awesomeTable.visualization.csvFilter.DropDownIcon["keyboard-arrow-down"]}}}})},initFilter:function(t,a){if(t.filter.param)for(var o=0;o<t.filter.param.length;o++){var i=t.filter.param[o];i in awesomeTable._Keywords.dataIdMap&&_self.controls.filtersRelation.push({parent:t.columnIndex,child:awesomeTable._Keywords.dataIdMap[i]._index})}var n=document.createElement("div"),s="controlers"+_self.controls.filters.length,l=a.parameters;n.id=s,n.classList.add("controlers-filters",a.className),_self.dom.dyn.filtersPanel&&_self.dom.dyn.filtersPanel.appendChild(n),l.controlType="awesomeTable.visualization.csvFilter",l.containerId=s,l.options.filterColumnIndex=t.columnIndex,l.options.ui.label=e.viewPref.useInsideFilter?"":t.columnLabel,l.options.ui.caption=e.viewPref.useInsideFilter?t.columnLabel:e.viewPref.filterCaption,l.options.ui.labelStacking=e.viewPref.useInsideFilter?"horizontal":"vertical",t.columnA1Name in filterSettings&&(l.state={selectedValues:filterSettings[t.columnA1Name]}),_self.controls.filters.push({control:new google.visualization.ControlWrapper(l),index:t.columnIndex})}}},_regexCharWhiteList:/[^\w- ]/gi,regexKeywords:void 0,viewPref:{filterCaption:"insidefilter",useInsideFilter:!0,dateFormat:"dd/MM/yyyy"},generateCustomClass:function(e){for(var t=e.replace(this._regexCharWhiteList,"").toLowerCase().split(" "),a=t[0],o=1;o<t.length;o++)a+=t[o].charAt(0).toUpperCase()+t[o].slice(1);return a.slice(0,50)},sortArray:function(e,t){var a=/[^a-zA-Z]/g,o=/[^0-9]/g,i=e.replace(a,""),n=t.replace(a,"");if(i===n){var s=parseInt(e.replace(o,""),10),l=parseInt(t.replace(o,""),10);return s===l?0:s>l?1:-1}return i>n?1:-1},initKeywordRegexp:function(){var e=[],t=[];for(var a in this.type)this.type[a].param?t.push(a):e.push(a);return this.regexKeywords=new RegExp("^\\s+|\\s+$|(?:(?:\\s?-\\s?|\\s)("+e.join("|")+"|("+t.join("|")+")(?:\\s?\\(([^)]+)\\))?)(?:\\s?-\\s?(?!\\w)|\\s(?!\\w))?)","ig"),this.regexKeywords},initDataIdMap:function(e){for(var t=e.getNumberOfColumns(),a=0;a<t;a++)this.dataIdMap[e.getColumnId(a)]={_index:a}},init:function(e){_self.view.registerKeywords&&_self.view.registerKeywords(this.type),this.initKeywordRegexp(),this.initDataIdMap(e),this.viewPref.filterCaption=awesomeTable.settings.data.categoryCaption||"",this.viewPref.useInsideFilter="insidefilter"==this.viewPref.filterCaption.toLowerCase(),this.viewPref.dateFormat=awesomeTable.settings.data.dateFormat||""},reInit:function(){this.templateIndex={},this.afterProcessActions=[],this.dataIdMap={}},cleanColumnLabel:function(e){return this.regexKeywords||this.initKeywordRegexp(),e.replace(this.regexKeywords,"")},processKeywordInColumn:function(e,t){this.regexKeywords||this.initKeywordRegexp(),this.regexKeywords.lastIndex=0;for(var a=[],o=void 0,i=void 0;null!==(i=this.regexKeywords.exec(e));)i[1]&&(o={filter:(i[2]||i[1]||"").toLowerCase()},i[3]&&(o.param=i[3].split(",")),o.priority=this.type[o.filter].priority||0,a.push(o));return"number"==t&&0==a.length&&a.push({filter:"numberrangefilter",priority:0}),a.sort(function(e,t){return t.priority-e.priority}),a},afterProcess:function(){for(var t=0;t<e.afterProcessActions.length;t++){var a=e.afterProcessActions[t];if("hidden"==a.action){var o=columnsToDisplay.indexOf(a.columnIndex);-1!=o&&columnsToDisplay.splice(o,1)}else"template"==a.action&&e.addTemplate(a.template,a.param,a.useFormatted)}if(_self.dom.dyn.filtersPanel&&0==_self.dom.dyn.filtersPanel.childElementCount)if(_self.dom.dyn.filtersPanel.parentNode.removeChild(_self.dom.dyn.filtersPanel),delete _self.dom.dyn.filtersPanel,awesomeTable.settings.data.download){var i=document.getElementById("at-button-getUrl"),n=document.getElementById("at-button-cleanFilter");n.parentNode.removeChild(n),i.parentNode.removeChild(i)}else _self.dom.dyn.actionPanel&&_self.dom.dyn.actionPanel.parentNode.removeChild(_self.dom.dyn.actionPanel),delete _self.dom.dyn.actionPanel,delete _self.dom.dyn.actionMenu;_self.dom.dyn.sidebarContainer&&!_self.sidebar.useSidebar&&(_self.dom.dyn.sidebarContainer.parentNode.removeChild(_self.dom.dyn.sidebarContainer),delete _self.dom.dyn.sidebarContainer)}};awesomeTable._Keywords=e}();var _self={controls:{filters:[],filtersRelation:[]},dashboard:void 0,sidebar:{useSidebar:!1,columnIndex:void 0,columnId:void 0,dom:void 0},view:void 0,wrapper:void 0,tables:{data:void 0,template:void 0},query:void 0,_reload:void 0,analytics:{awtTrack:new awesomeTable.Stat("UA-17877121-5","awtTrack"),awtDomain:new awesomeTable.Stat("UA-17877121-7","awtDomain"),useQuery:!1},dom:{dyn:{}},template:void 0,pageName:"",initialHeight:void 0,_isNoDataShown:!1,_templateProcessed:!1},q=void 0,selectedRow=[],filterSettings={},columnsToDisplay=void 0,idColumn="",idColumnPosition=void 0,sizeTimeAnalytics={queryRetrievedTime:void 0,queryBuiltTime:void 0,dashboardReadyTime:void 0,dashboardDrawn:!1,sheetSizeDone_res:function(){}};sizeTimeAnalytics.sheetSizeDone=new Promise(function(e){sizeTimeAnalytics.sheetSizeDone_res=e}),function(){_self.analytics.awtDomain.setCustomD({dimension4:awesomeTable.settings.version});var e=/https?:\/\/[^\/]+(?:\/views)?\/([^\/]+)\/view/.exec(document.URL);if(!e)return awesomeTable.settings.id="",void awesomeTable.codeTools.displayFatalError();awesomeTable.settings.id=e[1],Promise.all([awesomeTable.tools.makeXMLhttpRequest("https://"+awesomeTable.settings.rootDomain+".firebaseio.com/views/"+awesomeTable.settings.id+"/settings.json").catch(function(){throw"Fatal error"}).then(function(e){if(!e||e.error)throw"Fatal error";awesomeTable.settings.data=e}),new Promise(function(e){window.addEventListener("DOMContentLoaded",e)}).then(function(){awesomeTable.query.initCaller()})]).then(initOptions).catch(function(e){"Fatal error"===e&&awesomeTable.codeTools.displayFatalError(),/(?:^\?|&)debug(?:&|$)/.test(document.location.search)&&window.console.error(e)})}(),_self.template={"at-template-actionMenu":'<div class="at-action-menu-icon">\n\t<div class="at-action-menu-trigger">\n\t\t<svg class="at-svg-icon" viewBox="0 0 24 24"><g><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g></svg>\n\t</div>\n</div>\n<div class="at-action-menu-button">\n\t<div class="at-action-menu-trigger">\n\t\t<span>More actions...</span>\n\t\t<svg class="at-svg-icon" viewBox="0 0 24 24"><g><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></g></svg>\n\t</div>\n</div>\n<div class="at-action-menu-dropdown" style="display: none;"></div>',"at-template-iconDownload":'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g></svg>',"at-template-iconPrint":'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g></svg>',"at-template-iconResetFilter":'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg>',"at-template-iconLink":'<svg class="at-svg-icon" viewbox="0 0 24 24"><g><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g></svg>'},_self.buildDashboardHTML=function(e){var t=[],a=decodeURIComponent(awesomeTable.settings.data.displayOrder||"");"MapsWithTable"!==_self.vizType||a.match(/"map"/)||(a='{"d":"v","e":["map","filters","chart"]}');try{t=JSON.parse(a)}catch(e){}if(t.constructor===[].constructor&&(0==t.length&&(t=["map","filters","chart"]),t={d:"v",e:t}),_self.dom.dashboard.innerHTML="",!_self._templateProcessed){for(var o in _self.template){var i=document.createElement("template");i.innerHTML=_self.template[o],_self.template[o]=i}for(var n=document.querySelectorAll("template.at-template"),s=0;s<n.length;s++)_self.template[n[s].id]=n[s],n[s].parentNode.removeChild(n[s]);_self._templateProcessed=!0}_self._iterateLayoutHTML(t,_self.dom.dashboard),awesomeTable.codeTools.Counter.show(!1),_self.dom.btnExport=document.getElementById("at-button-export")},_self._iterateLayoutHTML=function(e,t){for(var a=0,o=0;o<e.e.length;o++)if(e.e[o]in this._iterateLayoutHTML.aliases&&(e.e[o]=this._iterateLayoutHTML.aliases[e.e[o]]),"string"==typeof e.e[o]&&e.e[o]){if("MapsWithTable"!==_self.vizType&&"map"===e.e[o])continue;var i=document.createElement("div"),n=_self._iterateLayoutHTML.layoutClasses[e.e[o]]||null,s=n&&n(i)||"";t.appendChild(i),s&&(_self.dom.dyn[s]=i),a++}else{var l=document.createElement("div"),r=_self._iterateLayoutHTML(e.e[o],l),d=e.e[o].n&&_self._iterateLayoutHTML.layoutClasses[e.e[o].n]||null;if(r){var u=d&&d(l)||"";u&&(_self.dom.dyn[u]=l),l.classList.add("at-layout-container"),t.appendChild(l),a++}}return a&&t.classList.add("v"===e.d?"at-layout-vertical":"at-layout-horizontal"),a},_self._iterateLayoutHTML.aliases={chart:{d:"v",e:["countTop",{d:"h",e:["chartContainer","sidebarContainer"]},"noData","countBottom"],n:"chartPanel"},filters:{d:"h",e:["filterPanel","actionMenu"],n:"actionPanel"}},_self._iterateLayoutHTML.layoutClasses={filterPanel:function(e){return e.classList.add("at-filter-panel"),e.id="controlersPanel","filtersPanel"},actionPanel:function(e){return e.classList.add("at-action-panel"),"actionPanel"},actionMenu:function(e){return e.classList.add("at-action-menu"),e.innerHTML=_self.template["at-template-actionMenu"].innerHTML,_self.actionMenu.initMenu(e),_self.dom.dyn.actionMenu=e,"actionMenu"},chartPanel:function(e){return e.classList.add("at-chart-panel"),"chartPanel"},map:function(e){return e.classList.add("at-map-panel"),"mapPanel"},countTop:function(e){return e.classList.add("at-count","count"),e.id="count",e.innerHTML=_self.template["at-template-countTop"].innerHTML,awesomeTable.codeTools.Counter._dom.countTop=e,awesomeTable.codeTools.Counter._dom.nbFilteredDataTop=e.querySelector(".at-nb-results"),awesomeTable.codeTools.Counter._dom.iconNbDataTop=e.querySelector(".at-icon-results"),awesomeTable.codeTools.Counter._dom.paginationTop=e.querySelector(".at-pagination"),"countTop"},countBottom:function(e){return e.classList.add("at-count","at-count-bottom","count"),e.innerHTML=_self.template["at-template-countBottom"].innerHTML,awesomeTable.codeTools.Counter._dom.countBot=e,awesomeTable.codeTools.Counter._dom.nbFilteredDataBot=e.querySelector(".at-nb-results"),awesomeTable.codeTools.Counter._dom.paginationBot=e.querySelector(".at-pagination"),"countBottom"},noData:function(e){return e.classList.add("at-noData"),e.style.display="none",e.innerHTML=_self.template["at-template-noData"].innerHTML,"noData"},chartContainer:function(e){return e.classList.add("at-chart-container"),e.id="visualizations",e.innerHTML=_self.template["at-template-chartContainer"].innerHTML,_self.dom.dyn.chart=e.querySelector("#chart1"),"chartContainer"},sidebarContainer:function(e){return e.classList.add("at-sidebar-container"),e.innerHTML=_self.template["at-template-sidebarContainer"].innerHTML,_self.dom.dyn.sidebar=e.querySelector("#sidebar"),"sidebarContainer"}},_self.ViewAT={getState:function(){for(var e=[],t=0;t<_self.controls.filters.length;t++)e.push(_self.controls.filters[t].control.getState());return{filters:e,chart:_self.view.getState&&_self.view.getState()||void 0}},setState:function(e){for(var t=0;t<_self.controls.filters.length&&t<e.filters.length;t++)_self.controls.filters[t].control.setState(e.filters[t]);return Promise.resolve().then(function(){return e.chart&&_self.view.setState&&_self.view.setState(e.chart)}).then(function(){return new Promise(function(e){google.visualization.events.addOneTimeListener(_self.dashboard,"ready",e),_self.dashboard.draw(_self.tables.data)})}).then(function(){return _self.view.setStatePostReady&&_self.view.setStatePostReady(e.chart)})},resetFilters:function(){for(var e=0;e<_self.controls.filters.length;e++)_self.controls.filters[e].control.setState(null);return new Promise(function(e){google.visualization.events.addOneTimeListener(_self.dashboard,"ready",e),_self.dashboard.draw(_self.tables.data)})},getFilteredUrl:function(){for(var e=[],t=0;t<_self.controls.filters.length;t++){var a=_self.controls.filters[t].control,o=a.getState(),i=_self.tables.data.getColumnId(_self.controls.filters[t].index);if(i){var n="filter"+i+"=";switch(a.getType()){case"awesomeTable.visualization.SearchFilter":""!==o.value&&e.push(n+encodeURIComponent(o.value));break;case"awesomeTable.visualization.csvFilter":if(!o.selectedValues.length)continue;e.push(n+o.selectedValues.map(function(e){return encodeURIComponent(e)}).join(","));break;case"awesomeTable.visualization.NumberRangeFilter":var s=a.getControl();if(s.maxCurrentValue===s.maxValue&&s.minCurrentValue===s.minValue)continue;e.push(n+(o.lowValue+",")+o.highValue);break;case"awesomeTable.visualization.DateFilter":var l=a.getControl();if(l.maxCurrentValue===l.maxValue&&l.minCurrentValue===l.minValue)continue;e.push(n+(o.lowValue.toISOString()+",")+o.highValue.toISOString())}}}return awesomeTable.settings.rootSite+"/"+awesomeTable.settings.id+"/view"+(e.length?"?"+e.join("&"):"")}},_self.actionMenu={dom:null,initMenu:function(e){this.actions=[{label:"Clear filters",callback:_self.ViewAT.resetFilters,element:"div",icon:"at-template-iconResetFilter",id:"at-button-cleanFilter"},{label:"Get filtered URL",element:"a",callback:this.assignFilteredUrl,icon:"at-template-iconLink",id:"at-button-getUrl"},{label:"Print",callback:awesomeTable.codeTools.Print.openPrint,element:"div",icon:"at-template-iconPrint"},{label:"Download data as CSV",element:"a",id:"at-button-export",show:awesomeTable.settings.data.download,icon:"at-template-iconDownload"}],this.dom=e;for(var t=e.querySelector(".at-action-menu-dropdown"),a=t.cloneNode(!0),o=0;o<this.actions.length;o++){var i="<"+(this.actions[o].element||"div")+' class="at-action-menu-item" title="'+this.actions[o].label+'" '+(this.actions[o].id?'id="'+this.actions[o].id+'"':"")+" "+("show"in this.actions[o]&&!this.actions[o].show?"hidden":"")+">\n\t<div>"+_self.template[this.actions[o].icon].innerHTML+"</div>\n\t<span>"+this.actions[o].label+"</span>\n</"+(this.actions[o].element||"div")+">";t.insertAdjacentHTML("beforeEnd",i),this.actions[o].callback&&t.lastChild.addEventListener("click",this.actions[o].callback)}var n=e.querySelector(".at-action-menu-button"),s=e.querySelector(".at-action-menu-icon");n.appendChild(t),s.appendChild(a),this.menuButton=new awesomeTable.DropDownMenu(e.querySelector(".at-action-menu-button>.at-action-menu-trigger"),t,function(){for(;a.childNodes.length;)t.appendChild(a.firstChild)}),this.menuIcon=new awesomeTable.DropDownMenu(s.querySelector(".at-action-menu-trigger"),a,function(){for(;t.childNodes.length;)a.appendChild(t.firstChild)})},assignFilteredUrl:function(){this.target="_blank",this.href=_self.ViewAT.getFilteredUrl()}},_self.Viz={onPostFirstReady:function(){document.body.setAttribute("data-loaded",""),_self.view.onPostFirstReady&&_self.view.onPostFirstReady(),window.performance&&!sizeTimeAnalytics.dashboardReadyTime&&(sizeTimeAnalytics.dashboardReadyTime=performance.now()),sizeTimeAnalytics.dashboardDrawn||sizeTimeAnalytics.sheetSizeDone.then(function(e){return callGaUserTiming(e,_self.vizType)}),sizeTimeAnalytics.dashboardDrawn=!0,"print"===awesomeTable.settings.location&&awesomeTable.codeTools.Print.doPrint()}},window.jumpTo=function(e,t){q=e;for(var a=_self.tables.data.getNumberOfColumns(),o=0;o<a;o++)if(_self.tables.data.getColumnId(o)==t){idColumnPosition=o,"number"==_self.tables.data.getColumnType(idColumnPosition)&&(q=parseInt(q));break}void 0!=q&&void 0!=idColumnPosition&&google.visualization.events.trigger(_self.wrapper,"select",{})},window.toggleDisplay=function(e,t,a){for(var o=e.parentNode,i=0;i<10&&"DIV"!=o.tagName;i++)o=o.parentNode;var n=o.getElementsByClassName(t)[0];""==n.innerHTML&&(n.innerHTML=a);for(var s=o.getElementsByClassName("show"),l=0;l<s.length;l++)0==s[l].classList.contains(t)&&(s[l].classList.toggle("hide"),s[l].classList.toggle("show"),l--);n.classList.toggle("hide"),n.classList.toggle("show")},window.AT_reload=function(e){_self._reload&&clearInterval(_self._reload),delete _self._reload,e||!_self.query?e<0||(e<15&&(e=15),_self._reload=setInterval(function(){_self.query._sendRequest(!0)},1e3*e)):_self.query._sendRequest(!0)},_self._showNoData=function(e){e?(this._showNoData._counterShown=awesomeTable.codeTools.Counter.isShown,awesomeTable.codeTools.Counter.show(!0),awesomeTable.codeTools.Counter.update(0),this.dom.dyn.noData.style.display="",this.dom.dyn.chartContainer.parentElement.style.position="absolute",this.dom.dyn.chartContainer.parentElement.style.visibility="hidden"):(this.dom.dyn.noData.style.display="none",this.dom.dyn.chartContainer.parentElement.style.position="",this.dom.dyn.chartContainer.parentElement.style.visibility="",awesomeTable.codeTools.Counter.show(this._showNoData._counterShown)),this._isNoDataShown=e};